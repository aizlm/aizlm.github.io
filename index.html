<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="为了兴趣而学"><meta name="keywords" content=""><meta name="author" content="Aizlm"><meta name="copyright" content="Aizlm"><title>瞎学日记 | Aizlm‘s_Blog</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '6.1.0'
} </script><meta name="generator" content="Hexo 6.1.0"><link rel="alternate" href="/atom.xml" title="Aizlm‘s_Blog" type="application/atom+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Aizlm</div><div class="author-info__description text-center">为了兴趣而学</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">15</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">8</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Aizlm‘s_Blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">Aizlm‘s_Blog</div><div id="site-sub-title">瞎学日记</div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/">jenkins自动部署</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-05-05</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E6%8D%8F/">后端学习捏</a></span><div class="content"><h1 id="Jenkins一键部署"><a href="#Jenkins一键部署" class="headerlink" title="Jenkins一键部署"></a>Jenkins一键部署</h1><h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><p>见【1】</p>
<p>tomcat搭建在9999端口，jenkins在webapp目录下。</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ul>
<li>所需发布jar包的远程服务器配置：</li>
</ul>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151102665.png">

<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151129152.png">

<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151148876.png" alt="image-20220505151148876">

<h2 id="基础使用："><a href="#基础使用：" class="headerlink" title="基础使用："></a>基础使用：</h2><img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151217319.png">

<p>URL：构建时会将SVN上该路径下的所有代码拉下来，然后进行构建</p>
<p>Credentials：身份，即SVN上所有具有读操作权限用户，可在&#x2F;opt&#x2F;svn&#x2F;jnu-data-security&#x2F;conf下查看相关权限</p>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151252599.png">

<p>根据pom.xml下载相应jar依赖，可能会报错，显示在该目录下没有这个pom.xml文件，先构建一次，将上述svn路径下的代码拉下来，然后就可以识别了。</p>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151321848.png">

<p>只有构建成功时触发这里的操作，Name填入上面远程配置时所填入的名称；</p>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151343442.png" alt="image-20220505151343442">

<p>主要操作：</p>
<p>（上传文件到指定服务器）</p>
<p>source files：创建该任务下的相对路径，任务路径为&#x2F;home&#x2F;.jenkins&#x2F;workspace&#x2F;auto_build；</p>
<p>Remove prefix：上传到目标服务器时去除文件夹路径；</p>
<p>Remote directory：上面服务器配置可访问目录为&#x2F;，这里填入相对于&#x2F;下的相对路径；</p>
<p>（执行指定服务器操作）</p>
<p>Exec command：if过程确保已关闭之前所启动的gateway进程，nohup启动gateway（注意需要传入jar包的路径，建议填入绝对路径）；</p>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151431230.png">

<p>需要添加相应操作的传输任务时，选择添加。</p>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151459704.png">

<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><ul>
<li>这里的jenkins默认项目路径为&#x2F;root&#x2F;.jenkins，可在&#x2F;etc&#x2F;profile下进行修改，source后重新启动tomcat即可生效：</li>
</ul>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151525351.png">

<ul>
<li>svn指定版本进行构建：</li>
</ul>
<p>在配置的svn后连接 @+版本号即可；</p>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151546138.png">



<h2 id="查看结果"><a href="#查看结果" class="headerlink" title="查看结果"></a>查看结果</h2><p>查看构建历史：</p>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151631726.png">

<p>查看控制台输出：</p>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151654516.png">

<p>结果：</p>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151723675.png">

<p>验证 ps -aux | grep jar：</p>
<img src="/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/blogs\source\_posts\jenkins自动部署\image-20220505151745085.png">

<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><ul>
<li>【1】Jenkins linux搭建：<a target="_blank" rel="noopener" href="https://blog.csdn.net/ju_362204801/article/details/120496060">https://blog.csdn.net/ju_362204801/article/details/120496060</a><ul>
<li>【1】：安装插件失败解决方案：<a target="_blank" rel="noopener" href="https://caoju.blog.csdn.net/article/details/120498306">https://caoju.blog.csdn.net/article/details/120498306</a></li>
</ul>
</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">ES使用（无原理）</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-04-27</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E6%8D%8F/">后端学习捏</a></span><div class="content"><h1 id="ELK"><a href="#ELK" class="headerlink" title="ELK"></a>ELK</h1><h2 id="ElasticSearch"><a href="#ElasticSearch" class="headerlink" title="ElasticSearch"></a>ElasticSearch</h2><p>文档型数据库，非关系型数据库结构：</p>
<img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/146a779da01f53e7f7a8d53132d3c7cf.png">

<p>倒序排序：</p>
<p>将原本通过ID查询的内容，进行分词操作，映射到相应的id中。</p>
<img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427084342277.png">



<h2 id="如何使用？"><a href="#如何使用？" class="headerlink" title="如何使用？"></a>如何使用？</h2><ul>
<li>访问地址见项目README；</li>
</ul>
<img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427094347169.png">

<img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427095722738.png">

<p>chain-dev-*为索引，类似于关系型数据库中为DataBase，索引名字在logstash中定义，具体可见README_ELK；<br>可用字段为收集到的日志所对应的标签值，常用搜索的标签为：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;_index&quot;</span><span class="punctuation">:</span> <span class="string">&quot;chain-dev-2022.04.27&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;_doc&quot;</span><span class="punctuation">,</span>	<span class="comment">// 文档，可认为是收集到的数据</span></span><br><span class="line">  <span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;q52paIABsSUfygaQAH36&quot;</span><span class="punctuation">,</span>	<span class="comment">// 由ES随机生成</span></span><br><span class="line">  <span class="attr">&quot;_score&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_source&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span>	<span class="comment">// 收集的数据</span></span><br><span class="line">    <span class="attr">&quot;@timestamp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2022-04-27T01:35:47.849Z&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;231ms&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;host&quot;</span><span class="punctuation">:</span> <span class="string">&quot;localhost&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;thread_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http-nio-10000-exec-4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;logger_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cn.jnu.web.base.LogAspect&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;level&quot;</span><span class="punctuation">:</span> <span class="string">&quot;INFO&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;traceId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;a6a9eb6b47a98d75&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;spanId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;8a68f9e630edd054&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;port&quot;</span><span class="punctuation">:</span> <span class="number">48268</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;springAppName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;service-auth&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;level_value&quot;</span><span class="punctuation">:</span> <span class="number">20000</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  ...</span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>@timestamp：时间，可通过console范围搜索</li>
<li>host：ip</li>
<li>logger_name：全类名</li>
<li>springAppName：微服务名称</li>
<li>traceId：链路追踪，全链路查询日志时使用<ul>
<li>通过页面响应头有个RequestId进行查询ELK中的traceId</li>
</ul>
</li>
</ul>
<img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427100448369.png">

<img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427100615257.png">



<h3 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h3><p>两种方式：</p>
<ul>
<li>第一种：直接使用Kibana查询语言KQL进行查询</li>
</ul>
<img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427102012936.png">



<ul>
<li>第二种：通过console传输json，可以进行聚类、模糊等查询</li>
</ul>
<p>console：</p>
<img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427084444128.png">



<h2 id="以表UI形式显示"><a href="#以表UI形式显示" class="headerlink" title="以表UI形式显示"></a>以表UI形式显示</h2><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/29150985243f4b28c37c7bdcfe4af95.png">

<img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/8f92455ef35dc64f5e89cef8af59e99.png">



<h2 id="相关概念"><a href="#相关概念" class="headerlink" title="相关概念"></a>相关概念</h2><ul>
<li><p>集群的概念及作用：详见【2】29</p>
<ul>
<li>一个集群就是由一个或多个服务器节点组织在一起，共同持有整个的数据，并一起提供索引和搜索功能。</li>
<li>单台 Elasticsearch 服务器提供服务，往往都有最大的负载能力，超过这个阈值，服务器性能就会大大降低甚至不可用，所以生产环境中，一般都是运行在指定服务器集群中。</li>
</ul>
</li>
<li><p>数据分片及副本：详见【2】33</p>
<ul>
<li>原因：一个索引可以存储超出单个节点硬件限制的大量数据。比如，一个具有 10 亿文档数据的索引占据1TB 的磁盘空间，而任一节点都可能没有这样大的磁盘空间。 或者单个节点处理搜索请求，响应太慢。</li>
<li>集群有新节点加入时，ES帮助我们直接进行分片控制。</li>
</ul>
</li>
</ul>
<h2 id="查询原理"><a href="#查询原理" class="headerlink" title="查询原理"></a>查询原理</h2><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427102333654.png">

<ul>
<li>路由计算：详见【2】39</li>
</ul>
<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>【1】ELK查看DSL：<a target="_blank" rel="noopener" href="https://blog.csdn.net/JSWANGCHANG/article/details/121356812">https://blog.csdn.net/JSWANGCHANG/article/details/121356812</a></p>
<p>【2】ES完整笔记：<a target="_blank" rel="noopener" href="https://blog.csdn.net/u011863024/article/details/115721328">https://blog.csdn.net/u011863024/article/details/115721328</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   &quot;query&quot;: &#123;</span><br><span class="line">    &quot;match&quot;: &#123;</span><br><span class="line">      &quot;traceId&quot;: &quot;a6a9eb6b47a98d75&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;from&quot;: 0,</span><br><span class="line">  &quot;size&quot;: 10,</span><br><span class="line">  &quot;sort&quot;:&#123;</span><br><span class="line">		&quot;@timestamp&quot;:&#123;</span><br><span class="line">			&quot;order&quot;:&quot;desc&quot;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>













</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/04/19/mybatis%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/">mybatis简单学习</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-04-19</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/web%E5%AD%A6%E4%B9%A0%E6%8D%8F/">web学习捏</a></span><div class="content"><h1 id="MyBatis"><a href="#MyBatis" class="headerlink" title="MyBatis"></a>MyBatis</h1><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><ul>
<li><p>为啥要用工厂模式捏？：<a target="_blank" rel="noopener" href="https://baijiahao.baidu.com/s?id=1705504841108391352&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1705504841108391352&amp;wfr=spider&amp;for=pc</a></p>
</li>
<li><p>尚硅谷mybatis：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_19387933/article/details/123256034">https://blog.csdn.net/qq_19387933/article/details/123256034</a></p>
</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/04/13/%E5%8C%BA%E5%9D%97%E9%93%BE%E8%AE%A4%E7%9F%A5/">区块链认知</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-04-13</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a></span><div class="content"><h1 id="BlockChain"><a href="#BlockChain" class="headerlink" title="BlockChain"></a>BlockChain</h1><h2 id="BTC-cryptography"><a href="#BTC-cryptography" class="headerlink" title="BTC-cryptography"></a>BTC-cryptography</h2><h3 id="哈希"><a href="#哈希" class="headerlink" title="哈希"></a>哈希</h3><ul>
<li>crypto-currency<ul>
<li>collision resistance：抗碰撞性，在人为计算上不可行</li>
<li>hiding：将需要保密的数据进行哈希放入信封中，当输入空间小时，拼接nonce随机数进行哈希。</li>
<li>puzzle friendly：计算得到的哈希想要小于某个阈值（落在某个指定区间内），只能通过不断地计算由不同的nonce拼接而成的输入；例如：区块链有chain header，计算而出的哈希需要落在target范围内才能被认为合法，没有其他更好的方式能够实现这一点。</li>
</ul>
</li>
<li>挖矿的性质：挖矿难，但验证很容易</li>
</ul>
<h3 id="签名"><a href="#签名" class="headerlink" title="签名"></a>签名</h3><ul>
<li><p>区块链是去中心化的</p>
</li>
<li><p>开户就是在各区块创建一个pair（PK，SK）</p>
<ul>
<li>发布用接收方生成的公钥，接收方用自己的私钥进行解密</li>
<li>如何校验是否是指定人发布的信息？发布方用私钥进行签名，接收方用公钥进行验证</li>
</ul>
</li>
</ul>
<h2 id="BTC-DS"><a href="#BTC-DS" class="headerlink" title="BTC-DS"></a>BTC-DS</h2><h3 id="hash-pointers"><a href="#hash-pointers" class="headerlink" title="hash pointers"></a>hash pointers</h3><ul>
<li><p>存储哈希结构体的起始地址和哈希结构体的哈希值</p>
</li>
<li><p>第一个产生的区块：genesis block；最近产生的区块：most recent block</p>
</li>
</ul>
<img src="/2022/04/13/%E5%8C%BA%E5%9D%97%E9%93%BE%E8%AE%A4%E7%9F%A5/image-20220413102621586.png">

<p>下一个区块的哈希指针的哈希值是由上一个区块的内容以及上一个哈希指针的哈希值共同哈希得到的，最后一个区块的后一个哈希指针的哈希值保存在系统中。（tamper-evident log）</p>
<h3 id="Merkle-tree"><a href="#Merkle-tree" class="headerlink" title="Merkle tree"></a>Merkle tree</h3><ul>
<li>用hash pointers代替普通指针</li>
<li>block header存储root hash，block body存储区块交易本身</li>
<li>全节点包含block header &amp; block body；轻节点包含block header，轻节点在验证某个交易是否包含在Merkle tree中时，需要请求Merkle proof（路径）。</li>
</ul>
<img src="/2022/04/13/%E5%8C%BA%E5%9D%97%E9%93%BE%E8%AE%A4%E7%9F%A5/image-20220413150512782.png">



<h3 id="转账"><a href="#转账" class="headerlink" title="转账"></a>转账</h3><img src="/2022/04/13/%E5%8C%BA%E5%9D%97%E9%93%BE%E8%AE%A4%E7%9F%A5/image-20220413185821656.png">

<ul>
<li>A给B转账需要A的签名以及B的地址，地址通过B的公钥哈希进行一系列变换得到。<ul>
<li>B的公钥如何获得？由B公开，例如说在电商模式下，在网站上公开地址或公钥。</li>
</ul>
</li>
<li>B和其他节点都需要A的公钥。<ul>
<li>A的公钥如何获得？如果直接在A的来源时告知公钥是不行的（可被模拟），所以在铸币是告知A的公钥hash，然后在后续的交易时也告知A的公钥，对A的公钥进行hash后与铸币时的公钥hash进行对比。</li>
</ul>
</li>
</ul>
<img src="/2022/04/13/%E5%8C%BA%E5%9D%97%E9%93%BE%E8%AE%A4%E7%9F%A5/image-20220413193951335.png">



<h2 id="BTC-protocol"><a href="#BTC-protocol" class="headerlink" title="BTC-protocol"></a>BTC-protocol</h2><h3 id="Distributed-consensus"><a href="#Distributed-consensus" class="headerlink" title="Distributed consensus"></a>Distributed consensus</h3><ul>
<li><p>sybil attack：产生大量账户，当数量大于总帐户数的一半时，就具有绝对的控制权。</p>
</li>
<li><p>如何理解区块链中的共识？</p>
<ul>
<li>满足target条件处理puzzle获取记账权的节点有权力对去中心化账本账本内容进行写入，这个账本内容需要取得共识。</li>
<li>由于puzzle friendly使得满足target只能由算力计算nonce后得到的hash，则记账权的获取需要算力。</li>
</ul>
</li>
<li><p>UTXO：Unspent Transaction Output</p>
<ul>
<li>集合：产生输出的交易的hash值，以及这个输出在交易的哪个位置。</li>
</ul>
</li>
</ul>
<h2 id="SoK"><a href="#SoK" class="headerlink" title="SoK"></a>SoK</h2><ul>
<li>动机：出现了很多的数字货币，但由于分布式原因无法进行统一，出现了互操作性问题。</li>
<li>分布式账本与数据库的不同<ul>
<li>数据库的原子特性：所有操作都执行成功才提交，否则回退</li>
<li></li>
</ul>
</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/04/11/Android%E8%99%9A%E6%8B%9F%E5%8C%96-%E5%AE%B9%E5%99%A8/">Android虚拟化&amp;容器</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-04-11</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Android%E9%80%86%E5%90%91%E7%9F%A5%E8%AF%86/">Android逆向知识</a></span><div class="content"><h1 id="Android虚拟化"><a href="#Android虚拟化" class="headerlink" title="Android虚拟化"></a>Android虚拟化</h1><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/04/10/2021KCTF4%E5%81%B6%E9%81%87%E6%A3%8B%E7%97%B4/">2021KCTF4偶遇棋痴</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-04-10</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/%E6%9C%89%E7%A9%BA%E6%9D%A5%E4%B8%80%E9%81%93/">有空来一道</a></span><div class="content"><h1 id="第四题-偶遇棋痴"><a href="#第四题-偶遇棋痴" class="headerlink" title="第四题 偶遇棋痴"></a>第四题 偶遇棋痴</h1><ul>
<li>Java层：</li>
</ul>
<img src="/2022/04/10/2021KCTF4%E5%81%B6%E9%81%87%E6%A3%8B%E7%97%B4/image-20220410220304084.png">

<ul>
<li>native静态分析：静态注册</li>
</ul>
<img src="/2022/04/10/2021KCTF4%E5%81%B6%E9%81%87%E6%A3%8B%E7%97%B4/image-20220410220342932.png">

<p>目标是返回1，所以需要到LABEL_11得到v3&#x3D;1然后return掉。</p>
<img src="/2022/04/10/2021KCTF4%E5%81%B6%E9%81%87%E6%A3%8B%E7%97%B4/image-20220410220538797.png">

<p>输入字符位数14，然后到第二个箭头时，v5是30，获取一下v15，再看v15经过sub_39614()变成了什么，最后到LABEL_11。</p>
<img src="/2022/04/10/2021KCTF4%E5%81%B6%E9%81%87%E6%A3%8B%E7%97%B4/image-20220410220838527.png">













<h1 id="IDA函数映射"><a href="#IDA函数映射" class="headerlink" title="IDA函数映射"></a>IDA函数映射</h1><ul>
<li>_aeabi_memclr8：memset</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/">从0开始！</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-04-10</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Android%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/">Android应用开发</a></span><div class="content"><h1 id="重新学习Android应用开发"><a href="#重新学习Android应用开发" class="headerlink" title="重新学习Android应用开发"></a>重新学习Android应用开发</h1><p>写着一篇主要是发现了自己虽然能理解流程，但很慢且不能看到流程马上想到如何实现，这不好，所以重新开始。主要记录开发中学习到的新的知识点，干巴爹！</p>
<ul>
<li>问题：xml布局文件的内容如何转变为View对象？</li>
</ul>
<p>aapt（Android Asset Packaging Tool）将布局文件资源编译压缩紧凑后，打包到.apk文件中。</p>
<p>Activity的子类的onCreate(Bundle)方法调用setContentView(…)方法时， Activity的子类使用LayoutInflater类实例化布局文件中定义的每一个View对象。</p>
<img src="/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/image-20220408212807086.png">

<p>利用ClassLoader加载实例，ClassLoader中的双亲委派机制也很重要！</p>
<ul>
<li>Activity生命周期以及对应内存、用户可见、前台关系？</li>
</ul>
<img src="/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/image-20220409161849607.png">

<img src="/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/image-20220409161928532.png">



<ul>
<li>问题：如何在app下一次启动时，还原到上一次的状态？</li>
</ul>
<p>例如：旋转时，app会先销毁实例，走完一个Activity的生命周期，再调用Activity的onCreate、onStart、onResume方法，将app的当前Activity显示到前台中。</p>
<p>解决方案：重写onSaveInstanceState(Bundle outState)函数，将需要保存的状态以bundle的形式写入到outState中，在onCreate(Bundle savedInstanceState)下次调用的时候，从中取相应数据。</p>
<p>但需要注意的是这种方法，在完全退出时，调用的onDestory()销毁掉实例时，不会保存outState Bundle，因为Activity实例已经不存在于内存当中了。</p>
<img src="/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/image-20220410135836647.png">

<p>实例暂存态（onStop()处理永久性数据，onSaveInstanceState处理暂存态数据）：在彻底销毁和重启系统时，暂存态数据会被清除。</p>
<img src="/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/image-20220410144259030.png">







<h1 id="Github上传代码"><a href="#Github上传代码" class="headerlink" title="Github上传代码"></a>Github上传代码</h1><ul>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv10612248/">https://www.bilibili.com/read/cv10612248/</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/">看雪CM3</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-04-07</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/%E6%9C%89%E7%A9%BA%E6%9D%A5%E4%B8%80%E9%81%93/">有空来一道</a></span><div class="content"><h1 id="看雪CM3"><a href="#看雪CM3" class="headerlink" title="看雪CM3"></a>看雪CM3</h1><p>运行之后发现是个简单输入验证码界面。</p>
<ul>
<li>Java层静态分析：xml中application没有debuggable选项，有backup可能会诱发漏洞点。</li>
</ul>
<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328103138716.png">

<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328103334441.png">

<ul>
<li>so层静态分析：在导出函数中没有找到静态注册的函数名，进JNI_OnLoad中进行分析，一开始忽略了反调试，j_AD()为反调试函数，这里的反调试只是检测进程是否被附加调试进程。</li>
</ul>
<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328103612257.png">

<p>j_AD()：</p>
<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328103850827.png">

<ul>
<li>so层动态分析：需要在so加载时进行截断，绕过反调试函数。</li>
</ul>
<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328110339719.png">

<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328115316040.png">

<p>定位到RegisterNatives处，发现参数可以跳转到另一个地址，根据RegisterNative参数JNINativeMethod一一对应上。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">jint</span> (*RegisterNatives)(JNIEnv*, jclass, <span class="type">const</span> JNINativeMethod*, jint);</span><br></pre></td></tr></table></figure>

<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328122115020.png">

<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328122450998.png">

<p>函数名：</p>
<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328122640761.png">

<p>签名：</p>
<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328122759864.png">

<p>地址：</p>
<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328123029740.png">

<ul>
<li>动态分析找到对应函数，定位到bc函数：</li>
</ul>
<p>执行一下任意字符，然后发现出现 Password Error~ 字样，没有经过j_dc函数，说明是由j_wolf_de和j_st其中一个进行显示的。</p>
<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220407221122867.png">

<p>j_dc涉及到的参数都是环境和系统上下文，没必要看。</p>
<p>进入j_jk看到一样的j_wolf_de与j_st，重点在j_dc里面，需要返回的result是1，进入分析发现，最终到ds函数：需要返回1，则v8&#x3D;1，这里的v3与v4通过sub_15184进行转换，v4又由j_wolf_de得到，则去hook相应的j_wolf_de方法，获取得到v4。</p>
<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220407223939145.png">

<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220407224145304.png">

<p>hook代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Script loaded successfully &quot;</span>);</span><br><span class="line"><span class="title class_">Java</span>.<span class="title function_">perform</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> wolf_de_addr = <span class="title class_">Module</span>.<span class="title function_">findExportByName</span>(<span class="string">&quot;libwolf.so&quot;</span>, <span class="string">&quot;_Z7wolf_dePKc&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;wolf_de_addr:&quot;</span>+wolf_de_addr);</span><br><span class="line"></span><br><span class="line">    <span class="title class_">Interceptor</span>.<span class="title function_">attach</span>(wolf_de_addr, &#123;</span><br><span class="line">        <span class="attr">onEnter</span>: <span class="keyword">function</span>(<span class="params">args</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> env = <span class="title class_">Java</span>.<span class="property">vm</span>.<span class="title function_">tryGetEnv</span>();</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;***orgin: &quot;</span> + args[<span class="number">0</span>].<span class="title function_">readCString</span>());</span><br><span class="line">            <span class="keyword">var</span> key = env.<span class="title function_">newStringUtf</span>(<span class="string">&quot;636D55B2AA8609CB&quot;</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;***trueKey: &quot;</span> + key);</span><br><span class="line">            <span class="keyword">var</span> truechr = env.<span class="title function_">getStringUtfChars</span>(key, <span class="number">0</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;***trueJstring: &quot;</span> + truechr.<span class="title function_">readCString</span>());</span><br><span class="line">            args[<span class="number">0</span>] = truechr;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;***changeJstring: &quot;</span> + args[<span class="number">0</span>].<span class="title function_">readCString</span>());</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">onLeave</span>: <span class="keyword">function</span>(<span class="params">retval</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;***return: &quot;</span> + retval.<span class="title function_">readCString</span>());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220407221053077.png">



<h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>【1】静态反调试：<a target="_blank" rel="noopener" href="http://www.zhaoxiaodan.com/java/android/android-native%E5%8F%8D%E8%B0%83%E8%AF%95.html">http://www.zhaoxiaodan.com/java/android/android-native%E5%8F%8D%E8%B0%83%E8%AF%95.html</a></p>
<p>【2】动态注册：<a target="_blank" rel="noopener" href="https://blog.csdn.net/leifengpeng/article/details/52447864">https://blog.csdn.net/leifengpeng/article/details/52447864</a></p>
<h1 id="hook注意事项"><a href="#hook注意事项" class="headerlink" title="hook注意事项"></a>hook注意事项</h1><ul>
<li>如何获取native需要hook的函数名</li>
</ul>
<p>frida：Module.enumerateExports(“libwolf.so”)</p>
<img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220407225503552.png"></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/04/03/%E5%8A%A0%E5%9B%BA%E7%9A%84%E4%BA%86%E8%A7%A3/">加固的了解</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-04-03</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Android%E9%80%86%E5%90%91%E7%9F%A5%E8%AF%86/">Android逆向知识</a></span><div class="content"><h1 id="Android加固认知"><a href="#Android加固认知" class="headerlink" title="Android加固认知"></a>Android加固认知</h1><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>【1】入门级加固：<a target="_blank" rel="noopener" href="https://bbs.pediy.com/thread-255220.htm?source=1">https://bbs.pediy.com/thread-255220.htm?source=1</a></p>
<p>【2】ClassLoader：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/renhui/articles/14268203.html">https://www.cnblogs.com/renhui/articles/14268203.html</a></p>
<p>【3】（未看）ClassLoader：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/81293598">https://zhuanlan.zhihu.com/p/81293598</a></p>
<ul>
<li>【4】动态加载系列<ul>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/fb03c2b59241">https://www.jianshu.com/p/fb03c2b59241</a></li>
</ul>
</li>
</ul>
<p>【5】shuwoom大佬的加固理解与实现：<a target="_blank" rel="noopener" href="https://shuwoom.com/?p=360#1014_Dex%E6%95%B4%E4%BD%93%E5%8A%A0%E5%9B%BA%E5%8E%9F%E7%90%86">https://shuwoom.com/?p=360#1014_Dex%E6%95%B4%E4%BD%93%E5%8A%A0%E5%9B%BA%E5%8E%9F%E7%90%86</a></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/03/28/%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/">调试配置问题汇总</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-03-28</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Android%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE/">Android调试配置</a></span><div class="content"><h1 id="Android调试配置"><a href="#Android调试配置" class="headerlink" title="Android调试配置"></a>Android调试配置</h1><ul>
<li><p>DDMS，ro.debuggable显示进程：<a target="_blank" rel="noopener" href="https://blog.csdn.net/jinmie0193/article/details/111355867">https://blog.csdn.net/jinmie0193/article/details/111355867</a></p>
</li>
<li><p>动态调试环境搭建：<a target="_blank" rel="noopener" href="https://www.kanxue.com/chm.htm?id=15454&amp;pid=node1001581">https://www.kanxue.com/chm.htm?id=15454&amp;pid=node1001581</a></p>
</li>
<li><p>记录几个常用的命令</p>
<ul>
<li>jdb -connect com.sun.jdi.SocketAttach:hostname&#x3D;127.0.0.1,port&#x3D;8700</li>
<li>adb forward tcp:8700 jwdp:</li>
</ul>
</li>
</ul>
</div><hr></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2022 By Aizlm</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>