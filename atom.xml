<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Aizlm‘s_Blog</title>
  
  <subtitle>瞎学日记</subtitle>
  <link href="https://aizlm.github.io/atom.xml" rel="self"/>
  
  <link href="https://aizlm.github.io/"/>
  <updated>2022-06-15T03:46:21.569Z</updated>
  <id>https://aizlm.github.io/</id>
  
  <author>
    <name>Aizlm</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>JWT&amp;OAuth2</title>
    <link href="https://aizlm.github.io/2022/06/14/JWT-OAuth2/"/>
    <id>https://aizlm.github.io/2022/06/14/JWT-OAuth2/</id>
    <published>2022-06-14T01:02:28.000Z</published>
    <updated>2022-06-15T03:46:21.569Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SpringCloud-SpringSecurity-JWT-amp-OAuth2"><a href="#SpringCloud-SpringSecurity-JWT-amp-OAuth2" class="headerlink" title="SpringCloud | SpringSecurity JWT&amp;OAuth2"></a>SpringCloud | SpringSecurity JWT&amp;OAuth2</h1><h2 id="有状态与无状态"><a href="#有状态与无状态" class="headerlink" title="有状态与无状态"></a>有状态与无状态</h2><p>详解【1】</p><ul><li>Web服务的状态指的是请求的状态，而不是资源的状态<ul><li>基于状态的服务，简单的说就是当前的用户请求状态与某一台服务器进行绑定，无法进行负载均衡等调度；</li><li>基于无状态的服务，Server不保存任何请求状态信息，Client的每一个请求都具有User credentials等所需要的全部信息，所以能被任意可用的Server应答。</li></ul></li></ul><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>【1】理解有状态与无状态：<a href="https://blog.csdn.net/Jmilk/article/details/50461577">https://blog.csdn.net/Jmilk/article/details/50461577</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;SpringCloud-SpringSecurity-JWT-amp-OAuth2&quot;&gt;&lt;a href=&quot;#SpringCloud-SpringSecurity-JWT-amp-OAuth2&quot; class=&quot;headerlink&quot; title=&quot;SpringClou</summary>
      
    
    
    
    
    <category term="web学习捏" scheme="https://aizlm.github.io/tags/web%E5%AD%A6%E4%B9%A0%E6%8D%8F/"/>
    
  </entry>
  
  <entry>
    <title>Springboot-admin项目实践</title>
    <link href="https://aizlm.github.io/2022/06/13/Springboot-admin%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/"/>
    <id>https://aizlm.github.io/2022/06/13/Springboot-admin%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/</id>
    <published>2022-06-13T08:17:01.000Z</published>
    <updated>2022-06-13T12:13:17.722Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="d3e12cfe000313100ca24c5cd80973255e6cba1f5622561fac1a3c02fa085af7">03ac86e023573d69e9df3d3199e050f4660eea74a6aad07ce108cd8667503d0521495c093ea33b87166df8362861a25b8673dc758bfb005fc4fa016e12d5f4887bca72f7b4fa3b26ec1f4fb8bd1a7aed2891307b53415c14244d10f27b7836ce9eabe072ca5475615e6bdce33256d1018ef12731d719aa0cc58bc8cd7756f54d406664a74815dd586a256f497a686f184221d26f9791bc803fcd8917769f1dc3b7cfbd2cd3b655abd50286d5e87b8edac07cdf78e920770a3204297cb53212e8dc39eaa2104011e0028d4d7548c16ae8dd1614db2362ac8b028e36c9703e901f73fb2a10b93bdba30aee2aa989420f84a48e9364900a8a2031ed5f9e22c5124ae39a2436d09c5bae126c758c24b3c7c93e73f981bdd383378f94db9d7df5c095380d5cfc37ea7a443593b21198ea6b58b259fb9a164d104264cff729ae7e83694f10bd4d622129448ca1c5dda330895fa6a90eb2717acd4bb5db35dcf7138ee9eab7298495cc2ed9b4036c1581ea379140f0197140ba8de3bb898ec453a8c49e90e4a6b78e1f6649610333a75e0df28a503c7c0614fc50da4cc95cfb03afd26dd0bb8e45977034dede08545b89be2392288f65784c56756ac622b960a1e8006e553289b2971f0cd0ed1553f97830d0c31fc3c518e0304950a3d9f39d9a071ebcb6119d42fc16f43d56745e09012d130b6d0645d38266f795e339c0d5f856e3eba825467502c3278a66c6ce66afd3e7f20f0efc28fca1a7a2511f51bc2896359097fc968f453123905b93f1e469ac0d3a9f42088048a99f80c2ed00339fc61affa97a283161d3f6635378d1a24df1907c4f0713c8f7e3a8bc6a630bec5b6b2397aebbc8f02925f9edad5528e1a03ec8db6b6f82cd88676b40f27f1ea5ef22082e51a3d1564def582592f407fcd81e83b9b2f4bf22aa1e26869a6cbaaf10d13272aebc3fc42d314d3d481e151fe08d396eb76250b2ea57b07f7d7622dc6b23db1b9fbb351c57ed33a4683700a6dd617da45273f6ba115ad20237bd446cdb4d4a407855b4c1ae9c3380bb5944d057f538ab5d748bf793c61a607639204f72593509b0ee86a593c19bfe6f681c22aee38817fce9efce814b347363a291e47022dc90eddc00bea6fb4bf64f2c26c2f701eee7228e15a9eb1e2bde6aca20364f9115dc43ca7579cdba71850dce8e0f88ea919351c038a9ba338b963bb5feefbb9ec3eb250c187a32e2c97d5d46c28bb535d652f8810cdbdfa8c609b594b2d325b9375d6b7b7afc8fbddcbb424d452a2716635dddcbab96195bdd575e87de8edf303251ec0f8fb3d5e315b567984bf266c46b920407e4e21fb8f1efdb9d77fe53839edd441af2d52f1a8c6eebb654c3e433f10da92111feb3b5706f3b522682eec1358782df2170f27dc05f80e7e5a42826df80e1fc03241b3f28fe93fa17124a0337c0c0e9be04cb2f38a3f36c642da009824882ce2c219190735bc07ca3d9a204d35499e129d87e31da8ff9d0c65bd29295baf5134b08662b115347155edb495de1d957b8f02f508c4bb454a04451a4f35d9dc04b3db7db3e3b1ac8e83f926293d4b7060af16443d5c96df1b02b103a2736991e25e2f34a58353bafb4a7c74dde7ed2a34bd83705ac7552d87b6197ffbe0f4f6ae9c898ef92c5de0df196ccb813a92018e005f341d9b55caee5549558635e8f108500449bbfee3df46a37ae495f920826730d9c6217de703e3162f20e5b009755d2fa61115f5b4d1ed93d6c67acf54d82d150863a1f94de5c66366e5597e41cfe38a867ec54023136b071690c7f643b086ccc057027a52ffe32ed64ff6afc20f4de15f6677115131e942e759c5cf3f3bc8897d067505dfc6c1e18c8de33376910d0b01a38f74dde37e831741d6f07d4f9a5a465b29b99df1bddf05c65b740ca1548b16b27fbf5324ae0602f2c604ef36e7d02d1733b5e2629355eb8a1efd4818803100dd75852622a20d96230fa071b12f8e64f540804c63750c5a81e30c392b53153d8f71494625fcbf0ad7f6a36f4116c6807a840d9ca72e94f80dac941e35ceee69f8e17c49cf4cdced936bc7a4d931aa49ebba46ea867467352ad36e104771e5ccfecead8096463734a0fc22b055c943dd6a67e7e9b23b465ffc0d9019fb86d577a1a192c3691200412a7f224a941a53c2085e0119f82a53aa6850ef059b9a8dc19744d606f60375f44359dc0cba8df46afeeeb44d31b8bd54de0cdd6a0f0cbbb949705175d0948e1ce1fe051653a7a880246f0dfbca49afc5636efe06808e5ad71e826d9fb0e54690da9e18601d940bb73b628f851ee7b4f3eea0a2c0b673a7b6bf2011791d947360956f95f640ef96e5744c58f939c35b08175a38518232a9a29cd97f821f71d1e18f72ec47d624e8f336686f222a39981ccda8d0873d79372fee9bb00febbdc1edd32ed6f9acdfaeab3d7e6584cddd7f2b85be701048875cc4d89e68f6a45f85bfb4410a9fa12ab7c7485cbd89ecded9270f267313d4a38ba39e825cd9c50d4bb87de8e7f5c984352f8222bf49813d052282d649a46d98bce4c8989b4a342fd46a99d468248ec24429f7804ca7ab8699c82132ef0d0cdc4f56c6f11fd2f2c9f29b6172ceb42b21880bbe3d122606fe3abe46cdd79c535528cf8dae4ce075057a9ea852b07e81193ac19065350f309d6a805644bacb06a965a7427c4c5f7f60bfcb9631435a6825989d5e9079fec5d818b1183f720ae2f63472ba897b97c1a417990145cd3965cebdc437bfa7163f2e81385ae15ee5342dc252d16465c6dd959d579af19144fe2b459a34f2a4d7a820747d1d5b65d9399faad30be7bd095a85bbd8ae10bf4ceb69719dcea9581e2be7fc4bc1367998858fb579e7e36094a7b7b8b620ddc0ef27f7581773198426ec214176ef75b65624633fb071804104b3321c7dece2162f32c48782e34a21a39918482533aad53cedda6b4a702ee10e8d90db5d6ce7c42944006d5f714a85719fb60a1053f456c481fab35ef2a9b72b1026646b95134affe63ed7e506aca09c1cea57b9dbe8ec136b8b45a438288c6a16919da57ca84b8639c495682248a42284b2cb5b40fc24ddecfa2c168a85067e75563bce9b7858aa838d3deb6ca47bb5f27a333b2778e8f2c2f912607f1768703cb31025e6a5ea7ebc961d75ecccfd917d660811a394d7aad29c325bf0e6f6261eb11a6337d8db50628d80124960e38fd171712eb43e62beb075b75417856e4cf9319be1d244d3195d16eef4625b5b54318746e58291ea238f234375c1a92da06fd57db2de5614cbb6b593780e9a7d4948d522e17556bf2de4e79a676038e2c92d5abcc57cc2d4364aadc32ff46f4a7231684bfe9d4324b4775790117f80a61452d61a0007eb1d0e333e685da07c8b7270bb66b98449e5b6541b63cdc49aed8bd5ae6e3e8555ab99bbbd23432a7684b6410295d9aceb38b0a1ac6be650b3987ce7a734b3c201a5be5fea4710ad3187ff48d4b83cf703ae09b8f64820f3cdc88b6f2a3cc983e826f7c64ef66b3385f51b4e492de3a96ab71670e50e6faf00aa3282aa2b8405d189964676ad88d519526644e30faf73657f01ccd990901a422bc0b18202e4609a173968cccb43ef8283e850fc91293ca65f08288e9bae1f4752c3c2236159e4a80b76a02a9504c8a683e76ad3075ea7755f3a13447557d4b480c9665f5925ba8452c9c5e1ac9c99da2ad5fa387998b164eb644425cce782ca334bf1c701eb80c88a04bf6aa18c6b9aa2f793ef3c60ae582c3b4938ae0e4c20236928f7455949ef65db3b67e3f316d1b60cb9ad1075a56f8f3c8fbc9ce9dc390e261fb35237074e4b3dfcaef83b84fb96951971907aedc139ca3176b7a1d13dd0673ddf1954a12985c5538610452ce9a1d03ed6f0590f90bc9b0fa3f60780f0c3b07550e747564025f8e4cc28e6f1edc73ea3615cc556fd366790e9583b50d476742d7799d992e00c7462a53cf6088f4e39a615d2b2a4102b966ce3dbdafaf029c30ed31fc0387bb01f4ebcc29628a932986583bc3aa2a323e1f2d50de68d02f71114deadff33a66b4dd069d03c5645e54de7b89c33fad61f0caaae5af3507772fc0e74742cfae7644c67ad776850f8d1b93171ddd9236ad6e11a2bcdc0f9be5ab96fc9daf3f3d1d2438</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    
    <category term="项目实践" scheme="https://aizlm.github.io/tags/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/"/>
    
  </entry>
  
  <entry>
    <title>Springboot-参数解析原理</title>
    <link href="https://aizlm.github.io/2022/06/09/Springboot%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%8E%9F%E7%90%86/"/>
    <id>https://aizlm.github.io/2022/06/09/Springboot%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E5%8E%9F%E7%90%86/</id>
    <published>2022-06-09T01:07:52.000Z</published>
    <updated>2022-06-09T06:27:51.504Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Springboot-参数解析原理"><a href="#Springboot-参数解析原理" class="headerlink" title="Springboot-参数解析原理"></a>Springboot-参数解析原理</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//org.springframework.web.servlet.DispatcherServlet.doDispatch()</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doDispatch</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">...</span><br><span class="line">    mappedHandler = <span class="built_in">this</span>.getHandler(processedRequest);</span><br><span class="line">    ...</span><br><span class="line"><span class="comment">//获取处理器适配器，通过处理器适配器调用处理请求的方法</span></span><br><span class="line">    <span class="type">HandlerAdapter</span> <span class="variable">ha</span> <span class="operator">=</span> <span class="built_in">this</span>.getHandlerAdapter(mappedHandler.getHandler());</span><br><span class="line">    ...</span><br><span class="line"><span class="comment">//处理请求</span></span><br><span class="line">    mv = ha.handle(processedRequest, response, mappedHandler.getHandler());</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line"><span class="comment">//org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter</span></span><br><span class="line"><span class="meta">@Nullable</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> ModelAndView <span class="title function_">handle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.handleInternal(request, response, (HandlerMethod)handler);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal()</span></span><br><span class="line">mav = <span class="built_in">this</span>.invokeHandlerMethod(request, response, handlerMethod);</span><br><span class="line"><span class="meta">@Nullable</span></span><br><span class="line"><span class="keyword">protected</span> ModelAndView <span class="title function_">invokeHandlerMethod</span><span class="params">(HttpServletRequest request, HttpServletResponse response, HandlerMethod handlerMethod)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="type">ServletWebRequest</span> <span class="variable">webRequest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServletWebRequest</span>(request, response);</span><br><span class="line">...</span><br><span class="line">    <span class="comment">//调用和处理请求</span></span><br><span class="line">    invocableMethod.invokeAndHandle(webRequest, mavContainer, <span class="keyword">new</span> <span class="title class_">Object</span>[<span class="number">0</span>]);</span><br><span class="line">...</span><br><span class="line">    var15 = <span class="built_in">this</span>.getModelAndView(mavContainer, modelFactory, webRequest);</span><br><span class="line"></span><br><span class="line"><span class="comment">//org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">invokeAndHandle</span><span class="params">(ServletWebRequest webRequest, ModelAndViewContainer mavContainer, Object... providedArgs)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="type">Object</span> <span class="variable">returnValue</span> <span class="operator">=</span> <span class="built_in">this</span>.invokeForRequest(webRequest, mavContainer, providedArgs);</span><br><span class="line"></span><br><span class="line"><span class="comment">//org/springframework/web/method/support/InvocableHandlerMethod.invokeForRequest() -&gt; getMethodArgumentValues()</span></span><br><span class="line"><span class="keyword">protected</span> Object[] getMethodArgumentValues(NativeWebRequest request, <span class="meta">@Nullable</span> ModelAndViewContainer mavContainer,</span><br><span class="line">Object... providedArgs) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">//调用请求的参数</span></span><br><span class="line">    MethodParameter[] parameters = getMethodParameters();</span><br><span class="line"></span><br><span class="line">    Object[] args = <span class="keyword">new</span> <span class="title class_">Object</span>[parameters.length];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; parameters.length; i++) &#123;</span><br><span class="line">        <span class="type">MethodParameter</span> <span class="variable">parameter</span> <span class="operator">=</span> parameters[i];</span><br><span class="line">        parameter.initParameterNameDiscovery(<span class="built_in">this</span>.parameterNameDiscoverer);</span><br><span class="line">        args[i] = findProvidedArgument(parameter, providedArgs);</span><br><span class="line">        <span class="keyword">if</span> (args[i] != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">this</span>.resolvers.supportsParameter(parameter)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalStateException</span>(formatArgumentError(parameter, <span class="string">&quot;No suitable resolver&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//用参数解析器解析参数</span></span><br><span class="line">            args[i] = <span class="built_in">this</span>.resolvers.resolveArgument(parameter, mavContainer, request, <span class="built_in">this</span>.dataBinderFactory);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//org/springframework/web/method/support/HandlerMethodArgumentResolverComposite.resolveArgument()</span></span><br><span class="line"><span class="type">HandlerMethodArgumentResolver</span> <span class="variable">resolver</span> <span class="operator">=</span> getArgumentResolver(parameter);</span><br><span class="line"><span class="meta">@Nullable</span></span><br><span class="line"><span class="keyword">private</span> HandlerMethodArgumentResolver <span class="title function_">getArgumentResolver</span><span class="params">(MethodParameter parameter)</span> &#123; </span><br><span class="line">    <span class="comment">//查看缓存中是否有解析过改参数的解析器</span></span><br><span class="line">    <span class="type">HandlerMethodArgumentResolver</span> <span class="variable">result</span> <span class="operator">=</span> <span class="built_in">this</span>.argumentResolverCache.get(parameter);</span><br><span class="line">    <span class="keyword">if</span> (result == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">//遍历所有参数解析器来匹配该参数</span></span><br><span class="line">        <span class="keyword">for</span> (HandlerMethodArgumentResolver resolver : <span class="built_in">this</span>.argumentResolvers) &#123;</span><br><span class="line">            <span class="keyword">if</span> (resolver.supportsParameter(parameter)) &#123;</span><br><span class="line">                result = resolver;</span><br><span class="line">                <span class="built_in">this</span>.argumentResolverCache.put(parameter, result);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Springboot-参数解析原理&quot;&gt;&lt;a href=&quot;#Springboot-参数解析原理&quot; class=&quot;headerlink&quot; title=&quot;Springboot-参数解析原理&quot;&gt;&lt;/a&gt;Springboot-参数解析原理&lt;/h1&gt;&lt;figure class</summary>
      
    
    
    
    
    <category term="源码分析捏" scheme="https://aizlm.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E6%8D%8F/"/>
    
  </entry>
  
  <entry>
    <title>bitcoin</title>
    <link href="https://aizlm.github.io/2022/06/07/bitcoin/"/>
    <id>https://aizlm.github.io/2022/06/07/bitcoin/</id>
    <published>2022-06-07T02:01:53.000Z</published>
    <updated>2022-06-09T07:57:37.063Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="feb6c7ca0ff52e4ca7748965d696617f4c8c2f610d4a25e9719f14b94d5812aa">5c75810ab82df1e4b2b28acfab07bc4ef61f8bc8dc371ccb2af4c26f3a6a15256e8fd5df1314524265250f7da8962d26cc29ac047f567ba778a902b0fe0d124117bf51ddf88953828f6a13986c95fa798d035dbfa0ff1069031dd1d2e3caec8b414b1872585cb9b8e265c1fa71199644baa129a8d909667d2b2f4a4f1cdf94e4366a65e8537591320198d369bddcdfd1ff3b1a1ec98a609b9c2463d9e5c45bde86459c41119d04766705a7aaa2adfea8e7f10ab33c2b0a01d9283226f2dc8ae89f7ff160fa85e3d676e8f834624dd4556eb884a19607a2c5b076097b2f70793331dd3f3090178488f7ef2bf4bce28199878e5485cb81bccb3c6e50f7ef360e77c34c5b226e7f26c5aae84a5b566bd9fb026ca7ed877fafc185eca7facaa51515c8f803ffc51f317fdf09e91641f2a6b03e87ce17fdd209c38ba3c0cb55bf4c01d9c42b4130f28eacb0781e09f7e6d77c6c9316f67631adcaa07036f5cac6b325bd17a5b84e6ad40657e8a1e7d3aa0934d1ee1c9f21fa197f180a3119f13348d5333ad70557bbb8bb2938563ac6030089449a3696a779474784650c4e762e7b731d9ed0738545b3f8842442c47ebe110ad9c3e24daf6316ef914ce47ec81e3a67db88225aa6ac99566c0f881488af27e96abe20eb0d8231ae4f3c9957354528322b1724510806a558e6b5909280498fc9bb3342196feedc2c9b0c120a1718db51da612f10a278b2cb760bbdd7c056d016969e94a5ea0a4a9252034cf7d643185495ddd627cb51db48aaf04516683b288ccfded8be2b866ae1c4acf295709483cb2d11e47b47b5887ad9e6932ac5935204e8a941bb70e3c68407b652bc8d5d3e0abbed7cb1037a911960947e987d0271eae2b475661384373304799f4f174111c0e62391a5e25165a325c7cbeebc9bd71e2e5c0a388110e47ff1bb25b6e42927f3f34c5df56d0130cdc53ef33074fc048df3c0e0165dcd478772c0207912536f88599065a45a1e63e68e94da64bd438fa82fead2e61270d77631a8b5451611544133e52e96aa6441c2301c26b68c302585c5d4666d8d301da807fe60889aa32529835b733940dca092397b213afb7aeae9985b54f853939493d3debcdef6cbb633eabae0c6f6636ffc2b6daf0974a60fbb2c43fc0b4dba87ab555261c73aa6de500cfde4f020db6d5a4caf56d23cf0cf82b36dc71bbd9c1834b711c9e9f81a2f0800c1df58568cca6b58d5a606a3eda9b5c0c42bf2d32f333c6db6ea6e55c5b2a63722470123aa37b1ae4efbb93e0d2bcb52277320cb23e9bc8e3d9758e598ef2faf196326176e434e9e548ccd9b621d5c671533647d0a9b87e0ff491ad869bb894085a6f259201e845d15dfc2d967d1bf5a6e7911268d7a8e8895e725d578819ce54bd4cebb20e7a3acedd8e669e32cec458faa601b9f2b16230635c9af526c8b69a582a48f5cbf172d21ffeb0b5ecae974d9c3321e3545ec487e96ba662f5ab45064a39dc91e87f09084779104f8961722f3f67eca5eae1b4279ffa1b25b221ab77560114dc8ac329f96072cd8268f7f4ca624a2c9d62bdb1579179e25c4099ed6f2399e296e89a4ade131f0ad264f79c8939ef60cc55c0c08e8619488d558ca2fe0107150ef945cd519c4cd8e8444952693b37e494530d185e1f4e78c0a87f756d6ffdf484172302717151e6a7a280b05998bde257a37389cd6cd302b02cd021fb7f80a03d4dfe56baee8cc6b27dee231ab47a96fa1b6c117ca604d681d95c09bd382856c447e84bcc0137d18b7c91244ea1b7d1b5ab5beb2baf6835d99698ed0e39ff71ed4e8fffeb2840f73df2367e1efcc7b9ce4da81371130ffb509e888efb5c01bb0a9627a8bff1ba3bcc420e0e5be1462de4a0bde7b3e4ef3952ab7dd25b8316d3d3a07c238e11970f5338fa7babca2a119a1ada5166f3ea85965aca79da88d24e9f45496bab99de6927a44caef7a7847f9a6ae948b69d532a90ee92837f5729ed97ce8d1abdeb3debe0ee4687af6cc172f5ad7c7c68c2ebcac0702affad7135f518d48a632e733ed3670cb4e4a50cf03df877ab35b039fb53d569724de1caae28957aa3d11e8af476f28aaad9e0bc9a4fc43612ec064b04789c40009362cf4331b7160a86cb4b164011f1d767ae48fee5cb726392183d5e3477d605e071f964fe1e1f5b614cf11e22de7b4680691ac7be6213d0b9ef8b09b095e82b6aa10cc5e177a541f10847b5752119dfff7940b02e005a483cf1b74e82a964a4569022dd21ba4f4bef9464c6ba986123827f295fa0ff28fba7cbea9deef764894456f9a6e7a68a318db92c18d65bbe46ead2e042455a841b9a0b28f0d1a1bb05038ff62610240460ad2a400aea7fbfc3a2832312ae740b312bf01e2683355ff431c57a61a2fc437c7b3afb9e3892d92c5a9c511f38ed2f7ab952577de8b1a66e4411910e0ac1c5201d8ef4ded3995a3fa8c527664592d2dd7663d2a13b538b2fb5320c29f664210e8ab192ed5d2ecfeadf0b8c11e8407c3bb06a77e416bd05410049a614e431078219d38d9694aa8c56c36144641e0e09cb3d548e53cc518f4afc979242205072cc4496efdf090fe8f7cf4b4f54e3c624f1d7012d82e4f7f8d24689499a7d1f82819b17e0517bd2c92f2e0888656229ec64103cb3105f144fd9aa36c2085865c27390ff5bb8daa8e012953058ee31c99a1b9d8e7bfa5393a2f2abe8bed42e5ef439bcc5096434f79a6353c0aa9aa264d9ed323967ea9bed24cbb32958cfc80b448b1735e2763d44edecfc44d000085ff6d05b929ba5021fc68e0ec235ec5b17f69da6874feb19ee5bf39991d0cc303463ccacafe4f37d4e321298ce08e9e441bc5f50a6c9444b198113ca327b478419d33d7bd8c239047cc4271254540fa0e78f047f81f8f53977933b9f1383d2e4f37d90336844fcb0f5343392ba5cc6909a68807240c12681930dc6e84f7e830b18ef8f52d5ec3e97dca8e985731a778219831561ea4b61740055386b3c3941d1a8000782809af4129b21304e704ab363e8823449e9352754330091ec7c7d8c698feba9bce5312bec505a806204742f4350980acaf0ec8c7dd4968827912fc78b2a9aac78f946e9fc4f23884713499ee566336ab4a492f66c548f8d3b059b4d1a04b65dbfc6271fc2ffe54caf851f1dcc70b2c21def2a887cf058fbb8489bf9947b6933b45b28901d838092a68b0d0684c15f3c23d0c6739968bd6c818a2ecfc9c1168a6c445012f288005062bf23d2b36e3e0e78bc469cbfc6e71e45d52f456113121422e230c6edc1dd2a2349e1878757526df962f5019a25277cf698134c7a90f05ccbb0fae7e29ac028f05c7928c8318f9b2249369281be843fb5676a718be7b3fc8464427083bd7b8706997485c7d57ca9e932347f4cdde77de8faa692e24baed419f4b88e681dcdf6ff8dc4c5ea1f3eca2028441a80d73092b4134faca4f71ba898e3185e032ebeda368c64b89cd29482fd193e3df0ba6596c7e141b55e4875d88541dab3fec9ba6695522ae60a1c9c69bb3b65a9ae30834a92ed03a619244e1cc45a8f8519d941c8ade69cf9c29f0224ad14b1bb49369c875</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    
    <category term="区块链" scheme="https://aizlm.github.io/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
  </entry>
  
  <entry>
    <title>Springboot-自动配置原理解析</title>
    <link href="https://aizlm.github.io/2022/06/03/Springboot-%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/"/>
    <id>https://aizlm.github.io/2022/06/03/Springboot-%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/</id>
    <published>2022-06-02T23:16:10.000Z</published>
    <updated>2022-06-04T03:38:32.089Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SpringBoot-自动配置源码分析"><a href="#SpringBoot-自动配置源码分析" class="headerlink" title="SpringBoot-自动配置源码分析"></a>SpringBoot-自动配置源码分析</h1><p>SpringBoot自动配置导入依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-test-autoconfigure<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>xxx-AutoConfiguration</p><h2 id="WebMvcAutoConfiguration"><a href="#WebMvcAutoConfiguration" class="headerlink" title="WebMvcAutoConfiguration"></a>WebMvcAutoConfiguration</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(</span></span><br><span class="line"><span class="meta">    proxyBeanMethods = false//不设置代理bean，也就是内部bean会实例化多个对象，不走代理，提升效率，前提是bean之间没有依赖关系</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="meta">@ConditionalOnWebApplication(</span></span><br><span class="line"><span class="meta">    type = Type.SERVLET//当前程序是否是servlet原生程序，springboot的webmvc程序分为响应式程序/servlet原生程序</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="meta">@ConditionalOnClass(&#123;Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class&#125;)</span><span class="comment">//在这几个类存在时以下配置生效，因为导入了springboot-webmvc包，所以必然存在</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean(&#123;WebMvcConfigurationSupport.class&#125;)</span> <span class="comment">//不存在此类时生效</span></span><br><span class="line"><span class="meta">@AutoConfigureOrder(-2147483638)</span> <span class="comment">//优先级</span></span><br><span class="line"><span class="meta">@AutoConfigureAfter(&#123;DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class, ValidationAutoConfiguration.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebMvcAutoConfiguration</span> &#123;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration(</span></span><br><span class="line"><span class="meta">    proxyBeanMethods = false</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(&#123;WebProperties.class&#125;)</span> <span class="comment">//配置绑定</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"><span class="doctag">@ConfigurationProperties</span>(&quot;spring.web&quot;)</span></span><br><span class="line"><span class="comment">public class WebProperties &#123;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">EnableWebMvcConfiguration</span> <span class="keyword">extends</span> <span class="title class_">DelegatingWebMvcConfiguration</span> <span class="keyword">implements</span> <span class="title class_">ResourceLoaderAware</span> &#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//当前类只有有参构造器，其形参都会在容器中找到并自动注入</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">EnableWebMvcConfiguration</span><span class="params">(ResourceProperties resourceProperties, WebMvcProperties mvcProperties, WebProperties webProperties, ObjectProvider&lt;WebMvcRegistrations&gt; mvcRegistrationsProvider, ObjectProvider&lt;WebMvcAutoConfiguration.ResourceHandlerRegistrationCustomizer&gt; resourceHandlerRegistrationCustomizerProvider, ListableBeanFactory beanFactory)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.resourceProperties = (Resources)(resourceProperties.hasBeenCustomized() ? resourceProperties : webProperties.getResources());</span><br><span class="line">        <span class="built_in">this</span>.mvcProperties = mvcProperties;</span><br><span class="line">        <span class="built_in">this</span>.webProperties = webProperties;</span><br><span class="line">        <span class="built_in">this</span>.mvcRegistrations = (WebMvcRegistrations)mvcRegistrationsProvider.getIfUnique();</span><br><span class="line">        <span class="built_in">this</span>.resourceHandlerRegistrationCustomizer = (WebMvcAutoConfiguration.ResourceHandlerRegistrationCustomizer)resourceHandlerRegistrationCustomizerProvider.getIfAvailable();</span><br><span class="line">        <span class="built_in">this</span>.beanFactory = beanFactory; <span class="comment">//spring容器</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//静态资源处理器</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.addResourceHandlers(registry);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">this</span>.resourceProperties.isAddMappings()) &#123; <span class="comment">// 默认配置为true</span></span><br><span class="line">            logger.debug(<span class="string">&quot;Default resource handling disabled&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//映射的静态资源路径从/META-INF/resources/webjars/和CLASSPATH_RESOURCE_LOCATIONS获取</span></span><br><span class="line">            <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">            <span class="built_in">this</span>.addResourceHandler(registry, <span class="string">&quot;/webjars/**&quot;</span>, <span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span>); </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">private static final String[] CLASSPATH_RESOURCE_LOCATIONS = new String[]&#123;&quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot;&#125;;</span></span><br><span class="line"><span class="comment">private String[] staticLocations;</span></span><br><span class="line"><span class="comment">public Resources() &#123;</span></span><br><span class="line"><span class="comment">     this.staticLocations = CLASSPATH_RESOURCE_LOCATIONS;</span></span><br><span class="line"><span class="comment">            this.addMappings = true;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">            <span class="built_in">this</span>.addResourceHandler(registry, <span class="built_in">this</span>.mvcProperties.getStaticPathPattern(), (registration) -&gt; &#123;</span><br><span class="line">                registration.addResourceLocations(<span class="built_in">this</span>.resourceProperties.getStaticLocations()); <span class="comment">//从绑定的properties文件对应的配置类中读取spring.web.resources.static-locations: [...] </span></span><br><span class="line">                <span class="keyword">if</span> (servletContext != <span class="literal">null</span>) &#123;</span><br><span class="line">                    registration.addResourceLocations(<span class="keyword">new</span> <span class="title class_">Resource</span>[]&#123;<span class="keyword">new</span> <span class="title class_">ServletContextResource</span>(servletContext, <span class="string">&quot;/&quot;</span>)&#125;); <span class="comment">//如果是个servlet原生程序，则把其上下文的根路径也加入进来</span></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//欢迎页资源映射</span></span><br><span class="line"><span class="comment">//HandlerMapping：处理器映射。保存了每一个Handler能处理哪些请求.</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> WelcomePageHandlerMapping <span class="title function_">welcomePageHandlerMapping</span><span class="params">(ApplicationContext applicationContext, FormattingConversionService mvcConversionService, ResourceUrlProvider mvcResourceUrlProvider)</span> &#123;</span><br><span class="line">        <span class="type">WelcomePageHandlerMapping</span> <span class="variable">welcomePageHandlerMapping</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WelcomePageHandlerMapping</span>(<span class="keyword">new</span> <span class="title class_">TemplateAvailabilityProviders</span>(applicationContext), applicationContext, <span class="built_in">this</span>.getWelcomePage(), <span class="built_in">this</span>.mvcProperties.getStaticPathPattern());</span><br><span class="line">        welcomePageHandlerMapping.setInterceptors(<span class="built_in">this</span>.getInterceptors(mvcConversionService, mvcResourceUrlProvider));</span><br><span class="line">        welcomePageHandlerMapping.setCorsConfigurations(<span class="built_in">this</span>.getCorsConfigurations());</span><br><span class="line">        <span class="keyword">return</span> welcomePageHandlerMapping;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//欢迎页映射构造器</span></span><br><span class="line">    WelcomePageHandlerMapping(TemplateAvailabilityProviders templateAvailabilityProviders, ApplicationContext applicationContext, Resource welcomePage, String staticPathPattern) &#123;</span><br><span class="line">        <span class="keyword">if</span> (welcomePage != <span class="literal">null</span> &amp;&amp; <span class="string">&quot;/**&quot;</span>.equals(staticPathPattern)) &#123; <span class="comment">//welcomePage为静态文件index.html以及staticPathPattern(请求路径匹配)没有前缀时生效，这也是为什么配置了staticPathPattern不为&quot;/**&quot;时，欢迎页访问不了的原因所在.</span></span><br><span class="line">            logger.info(<span class="string">&quot;Adding welcome page: &quot;</span> + welcomePage);</span><br><span class="line">            <span class="built_in">this</span>.setRootViewName(<span class="string">&quot;forward:index.html&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">this</span>.welcomeTemplateExists(templateAvailabilityProviders, applicationContext)) &#123;</span><br><span class="line">            logger.info(<span class="string">&quot;Adding welcome page template: index&quot;</span>);</span><br><span class="line">            <span class="built_in">this</span>.setRootViewName(<span class="string">&quot;index&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>小知识点：favicon，即显示网页图标，浏览器会发送 &#x2F;favicon 请求获取到图标，整个session期间不再获取，session生命周期是浏览器开启到关闭时生效的时间。</li></ul><h2 id="Rest风格请求方式源码解析"><a href="#Rest风格请求方式源码解析" class="headerlink" title="Rest风格请求方式源码解析"></a>Rest风格请求方式源码解析</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@ConditionalOnMissingBean(&#123;HiddenHttpMethodFilter.class&#125;)</span></span><br><span class="line"><span class="meta">@ConditionalOnProperty(</span></span><br><span class="line"><span class="meta">    prefix = &quot;spring.mvc.hiddenmethod.filter&quot;,</span></span><br><span class="line"><span class="meta">    name = &#123;&quot;enabled&quot;&#125;,</span></span><br><span class="line"><span class="meta">    matchIfMissing = false //如果没配置则不开启</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> OrderedHiddenHttpMethodFilter <span class="title function_">hiddenHttpMethodFilter</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">OrderedHiddenHttpMethodFilter</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doFilterInternal</span><span class="params">(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)</span></span><br><span class="line">    <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">HttpServletRequest</span> <span class="variable">requestToUse</span> <span class="operator">=</span> request;</span><br><span class="line"><span class="comment">//请求方式为post且请求没有异常</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;POST&quot;</span>.equals(request.getMethod()) &amp;&amp; request.getAttribute(WebUtils.ERROR_EXCEPTION_ATTRIBUTE) == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">paramValue</span> <span class="operator">=</span> request.getParameter(<span class="built_in">this</span>.methodParam);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">public static final String DEFAULT_METHOD_PARAM = &quot;_method&quot;;</span></span><br><span class="line"><span class="comment">private String methodParam = DEFAULT_METHOD_PARAM;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">        <span class="keyword">if</span> (StringUtils.hasLength(paramValue)) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> paramValue.toUpperCase(Locale.ENGLISH);</span><br><span class="line">            <span class="keyword">if</span> (ALLOWED_METHODS.contains(method)) &#123;</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">        private static final List&lt;String&gt; ALLOWED_METHODS = Collections.unmodifiableList(Arrays.asList(HttpMethod.PUT.name(),HttpMethod.DELETE.name(), HttpMethod.PATCH.name()));</span></span><br><span class="line"><span class="comment">            */</span></span><br><span class="line">                requestToUse = <span class="keyword">new</span> <span class="title class_">HttpMethodRequestWrapper</span>(request, method);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    filterChain.doFilter(requestToUse, response);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">HttpMethodRequestWrapper</span> <span class="keyword">extends</span> <span class="title class_">HttpServletRequestWrapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String method;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HttpMethodRequestWrapper</span><span class="params">(HttpServletRequest request, String method)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(request);</span><br><span class="line">        <span class="built_in">this</span>.method = method;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.method;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;SpringBoot-自动配置源码分析&quot;&gt;&lt;a href=&quot;#SpringBoot-自动配置源码分析&quot; class=&quot;headerlink&quot; title=&quot;SpringBoot-自动配置源码分析&quot;&gt;&lt;/a&gt;SpringBoot-自动配置源码分析&lt;/h1&gt;&lt;p&gt;Sp</summary>
      
    
    
    
    
    <category term="源码分析捏" scheme="https://aizlm.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E6%8D%8F/"/>
    
  </entry>
  
  <entry>
    <title>SSM整合</title>
    <link href="https://aizlm.github.io/2022/05/19/SSM%E6%95%B4%E5%90%88/"/>
    <id>https://aizlm.github.io/2022/05/19/SSM%E6%95%B4%E5%90%88/</id>
    <published>2022-05-19T07:26:49.000Z</published>
    <updated>2022-05-28T05:11:06.919Z</updated>
    
    <content type="html"><![CDATA[<h1 id="SSM整合"><a href="#SSM整合" class="headerlink" title="SSM整合"></a>SSM整合</h1><ul><li>mapper.xml：与数据库进行交互。<ul><li>配置需要包含数据库连接池，数据源（哪个数据库）</li><li>SqlSessionFactory绑定mybatis.xml（数据具体操作），然后SqlSession对象从SqlSessionFactory中获取</li><li>配置MapperScannerConfigurer对象，指定mapper类扫描路径</li></ul></li><li>service.xml：只配置了包扫描，指定需要扫描到Spring 的Service层所在的包路径</li><li>mvc.xml：配置了Spring MVC扫描的包路径和注解驱动</li><li>web.xml：配置了项目启动时加载的信息<ul><li>配置文件加载context-param-&gt;contextConfigLocation</li><li>Spring容器加载监听器ContextLoaderListener</li><li>SpringMVC前端控制器DispatcherServlet</li></ul></li></ul><p>spring容器的创建：在web.xml声明了监听器ContextLoadListenter，。功能是创建spring容器对象WebApplicationContext，在创建WebApplicationContext对象时读取spring配置文件。读取文件的时候，遇到bean标签或者注解，就能创建service,dao等对象，放到容器中。</p><p>springMVC容器：在web.xml声明了中央调度器DispatcherServlet。在这个servlet的init方法中，创建了容器对象WebApplicationContext在创建WebApplicationContext对象，读取springmvc配置文件，读取文件的时候，遇到@Controller注解，创建控制器controller对象，放到容器中。</p><p>servlet(jsp) -&gt; tomcat -&gt; mybatis -&gt; spring -&gt; springmvc -&gt; springboot -&gt; </p><h1 id="坑"><a href="#坑" class="headerlink" title="坑"></a>坑</h1><p>在Idea中，xml配置引入外部bean需要以下配置：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;spring-dao.xml&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>【1】项目来源：</p><p>【2】SSM纯注解开发：<a href="https://blog.csdn.net/weixin_53805188/article/details/124103988">https://blog.csdn.net/weixin_53805188/article/details/124103988</a></p><p>【3】<a href="https://blog.csdn.net/m0_54703880/article/details/122637877?utm_source=app&amp;app_version=5.1.1">https://blog.csdn.net/m0_54703880/article/details/122637877?utm_source=app&amp;app_version=5.1.1</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;SSM整合&quot;&gt;&lt;a href=&quot;#SSM整合&quot; class=&quot;headerlink&quot; title=&quot;SSM整合&quot;&gt;&lt;/a&gt;SSM整合&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;mapper.xml：与数据库进行交互。&lt;ul&gt;
&lt;li&gt;配置需要包含数据库连接池，数据源（哪个数据库）</summary>
      
    
    
    
    
    <category term="后端学习捏" scheme="https://aizlm.github.io/tags/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E6%8D%8F/"/>
    
  </entry>
  
  <entry>
    <title>flink学习</title>
    <link href="https://aizlm.github.io/2022/05/07/flink%E5%AD%A6%E4%B9%A0/"/>
    <id>https://aizlm.github.io/2022/05/07/flink%E5%AD%A6%E4%B9%A0/</id>
    <published>2022-05-06T23:54:32.000Z</published>
    <updated>2022-05-07T02:33:40.442Z</updated>
    
    <content type="html"><![CDATA[<h1 id="flink学习"><a href="#flink学习" class="headerlink" title="flink学习"></a>flink学习</h1><ul><li>特点<ul><li>低延迟</li><li>高吞吐</li><li>准确率高、容错率小</li></ul></li><li>需要处理的问题<ul><li>集群环境下，如何正确访问数据进行处理？</li><li>集群环境下，数据处理错误，如何进行回滚到初始状态进行正确处理分析数据？</li></ul></li></ul><h2 id="flink-amp-WordCount"><a href="#flink-amp-WordCount" class="headerlink" title="flink &amp; WordCount"></a>flink &amp; WordCount</h2><h3 id="Batch（弃用DataSet）"><a href="#Batch（弃用DataSet）" class="headerlink" title="Batch（弃用DataSet）"></a>Batch（弃用DataSet）</h3><ul><li>目录结构</li></ul><img src="/2022/05/07/flink%E5%AD%A6%E4%B9%A0/image-20220507095140469.png"><ul><li>批处理代码</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 创建环境</span></span><br><span class="line"><span class="type">ExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span> ExecutionEnvironment.getExecutionEnvironment();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 读取数据</span></span><br><span class="line">DataSource&lt;String&gt; wordDataSource = env.readTextFile(<span class="string">&quot;input/words.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 将每行数据进行分词，转换成二元组</span></span><br><span class="line">FlatMapOperator&lt;String, Tuple2&lt;String, Long&gt;&gt; wordAndOneTuple = wordDataSource.flatMap((String line, Collector&lt;Tuple2&lt;String, Long&gt;&gt; out) -&gt; &#123;</span><br><span class="line">    <span class="comment">// 3.1 将一行数据进行分词</span></span><br><span class="line">    String[] words = line.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">    <span class="comment">// 3.2 将单词转换成二元组</span></span><br><span class="line">    <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">        out.collect(Tuple2.of(word, <span class="number">1L</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).returns(Types.TUPLE(Types.STRING, Types.LONG));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 根据元组word进行分组</span></span><br><span class="line">UnsortedGrouping&lt;Tuple2&lt;String, Long&gt;&gt; wordAndOneGroup = wordAndOneTuple.groupBy(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5. 分组后累积单词数</span></span><br><span class="line">AggregateOperator&lt;Tuple2&lt;String, Long&gt;&gt; sum = wordAndOneGroup.sum(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">sum.print();</span><br></pre></td></tr></table></figure><ul><li>结果</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(java,1)</span><br><span class="line">(flink,1)</span><br><span class="line">(world,1)</span><br><span class="line">(hello,3)</span><br></pre></td></tr></table></figure><h3 id="Stream"><a href="#Stream" class="headerlink" title="Stream"></a>Stream</h3><ul><li>有界流处理</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">StreamExecutionEnvironment</span> <span class="variable">env</span> <span class="operator">=</span> StreamExecutionEnvironment.getExecutionEnvironment();</span><br><span class="line">DataStreamSource&lt;String&gt; wordDataStreamSource = env.readTextFile(<span class="string">&quot;input/words.txt&quot;</span>);</span><br><span class="line">SingleOutputStreamOperator&lt;Tuple2&lt;String, Long&gt;&gt; wordAndOneTuple = wordDataStreamSource.flatMap((String line, Collector&lt;Tuple2&lt;String, Long&gt;&gt; out) -&gt; &#123;</span><br><span class="line">    String[] words = line.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (String word : words) &#123;</span><br><span class="line">        out.collect(Tuple2.of(word, <span class="number">1L</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;).returns(Types.TUPLE(Types.STRING, Types.LONG));</span><br><span class="line">KeyedStream&lt;Tuple2&lt;String, Long&gt;, String&gt; wordAndOneKeyedStream = wordAndOneTuple.keyBy(data -&gt; data.f0);</span><br><span class="line">SingleOutputStreamOperator&lt;Tuple2&lt;String, Long&gt;&gt; sum = wordAndOneKeyedStream.sum(<span class="number">1</span>);</span><br><span class="line">sum.print();</span><br><span class="line"><span class="comment">// 流处理会不断等待输入流，启动执行</span></span><br><span class="line">env.execute();</span><br></pre></td></tr></table></figure><ul><li>结果</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1&gt; (java,1)</span><br><span class="line">2&gt; (hello,1)</span><br><span class="line">3&gt; (world,1)</span><br><span class="line">2&gt; (hello,2)</span><br><span class="line">4&gt; (flink,1)</span><br><span class="line">2&gt; (hello,3)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;flink学习&quot;&gt;&lt;a href=&quot;#flink学习&quot; class=&quot;headerlink&quot; title=&quot;flink学习&quot;&gt;&lt;/a&gt;flink学习&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;特点&lt;ul&gt;
&lt;li&gt;低延迟&lt;/li&gt;
&lt;li&gt;高吞吐&lt;/li&gt;
&lt;li&gt;准确率高、容错</summary>
      
    
    
    
    
    <category term="web学习捏" scheme="https://aizlm.github.io/tags/web%E5%AD%A6%E4%B9%A0%E6%8D%8F/"/>
    
  </entry>
  
  <entry>
    <title>jenkins自动部署</title>
    <link href="https://aizlm.github.io/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/"/>
    <id>https://aizlm.github.io/2022/05/05/jenkins%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2/</id>
    <published>2022-05-05T07:08:40.000Z</published>
    <updated>2022-06-15T03:46:48.885Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="4978d121fcd7cf8948e5c39139f921a138d497685ca443a5723d4f481cb953ce">87cb32869937c87a4ae354bf7d94444ba3e187c93b41a3657fd14dba5e5fb29f4bbe25621f7d6e3a75f4a89dad824826be24ad9b842996b37d7f4f33e7277bfa8354712761ddfe41cb1f0c8e10fae37e78334116fa3f09bb58c0ee56c378f233659ad8d9c238081a72782724b31992c24b3c9c57d80ca4b9cdb923b9d3674b023507a41ad01cafe8f710fcb90b0a2f2ccb69ad6f3a8242ba2fd816502b2e3ceeb5a861709e7afabdb0b3a31480f4bcf252ddb062c0e80d62b979a40cd26f9afb61c67bb43bea7ee0a2cf3bd8e22a653d916027c8f34a5d07e898d25714a194b434f60cf3ccbf4a8422d2fc17e14d39822a6fe974d8fb69aa3b3f2103f78ceb3eaba1d3e1ceb550bb41ffef9b8fc7d480b9a189223d3714f6188b9555cb6c34fe20f86df06216a0a3ae2baae38b6a3f5dc72e8df6d7b3fd822ee9d4c367e277e6a1ff83e069b12d0d776fd1e4ee5b53ba176c71e802c9a95316e3b21f8f8b090da16368e6c2f6ff2742ec005055549a06964be12f37a5f1c19128f44691c3a6a38d81fa19a6924eb6e2752addbe8a1b4d73adeec43162bfcddf9685f310c5241b7bed03979f7b11a2e01a01329b54c8cc2c560ff9a9bd647c777bd7360bdafab058fd22c06dc878b7eb41e1365163e4b441b177edb2e6cf61a27e0f89b1b42f1f08563e85cd92d217993800e6f9055a8132d8e8b0f04ab04021e78acce44751aed489357d19fac24dde66017d41172f56d909c17a26e2a2218460d649e8df5baee86e5ffa11d1bdb72b0272bcc878fa14274d93f0974f3b2cda79d3b21d3f0d3a5f54ca94d819e31d3824768158893a8392e1ad0c5852f3ce52f8569a6c8af528d59a085c6124ac4dacdde9cb8a45c97fcccbcf9c99f7c3bfd749aa0dc7932c9080e4bda2e9cb18a0e60c3ebed266a68171af4e1238289a5a85ef1cb20e2d041847c4051b591a38588a6920b9d24bbf5e83b7794de0d9156aa23b4fe1a01100fbff450ee441a6d84f425e5b670a8b0b7db82d3947153cc78d0b2ac46b0ebf32768c873fea60eeda13af89954d0c8f75323028910bf7a9349c93b1f6940dcedcbc2d65dc9ae59c0274649529fd73f134d678f4ce7bd241d3067af2491f3d89c69db6e70806edc1d7bc52a6b476ce227604536491b4c9e8b2ce380b4dcb8c77f93ac44dc031b91e0889a82c71978a57356269e7583557cace1bafb66ea7d2d9e228261dc33079892daccd7904a334574c37bb3e47ca4e91ae2e461a0c385e724a8d4560b44b10839d068d8bde2b8ca854248d9a8a050a7d7267ec021cd87f1110aca41c349f1d6e2b9fccb8ddf2b50b02553e07c078ae0601e28d234c4d7d110d2674c6f896dccf2b7ecddee83c978ed4b918404364f72bfe93c4b0809d825403d6264fb9d3db7f9ef8b9ffcaa685013e56d301e6a1115da3f8c4e46746f095596ba82cf56d504651981830eddb14161f76e0c74292ab074df1934b9eddcf0ff4fa28f254292bd7c85c6b516c69d9830df039c5e0a9a40663bd62c966ca6222fc72fcfaaa8dd82fca95d0705e410f4f9afe098d8016b8bf22e5bfdd52b0f86f9d8772d24fd596d653809c472ac7ce06fc94d680a95e160a49074c2b6b0ff243e0899055a72857c1dd6ac293e51c09375ada9deee5609061f9f257e5902e486b2efbe913ee220b21940f2549e8d81b1eb5072229ba498f99bd7aaa06a1a926e35f05796e3d45d8b35a06e42e2708397e0488fa750a9be6cce8b568539aa958c05e983ac381a137eed8b9a5e21b54f3b59d648e0aa22f9ed5d3861cea0d1b764310fd63c6a57453b35bbb64ff402b780011ee9c327f30684884044904ad572062375d1529c400a22a80b4d6a77d880f0dd86e0b7e78105c74774159a97b001d4afae42342bfbaa005553173a16353f92698e8c5ec18dffdb256a2f5f9c14a76095d37c5a04006b7cd602974ba59160c724c59763ad5c15aa9f7cfac050334d203d92f4f2563598c81d88d344746fb38fbd30f4f3a27370177cb3bf627a058528fc40b2b376393bc27f458a64a2a991067a715dfe8eea1cff7892fab20527b3ff163c80cb7f8ccc2c52811fd26aca80e8350bb0ca964eb39ef42fe8d2308f80664a885c6ce2cc92177d4d6c2bd00bf13186a48c3a09baff8ab2b8108e49367866522f5d6512968210f6eb4774a72298004fa85642fbdacc352acb79785927024374e1f2d90f644e2a6def3c18cf9e6c31e8f6204504a96df533ba4b712b26d1dcfa53a52d19daff88541ee171c00bda7760479026b6d354ab676982dee8f34d07506aac4ad61b88325dbb745e096fb09e6f53a1c4883a857f3495b8e363d9d34ca506b4a8c82aa5d05717c448860a584d3db4855047369ee7faea43f22799ff6d976cf222383ea922fadd3dec6a92da846076f3dd59b99fa9e6d9b30d340c428022fbd41ff951c94cc854ae9803cdc9d0a5d61747e0573b1361b1802211624950b3323d4c700269bfb8a4cd610af82f6878cb8da7b971733ea878d894c13802ebbf1b1178f6425f4b2684d5e6a77eab63a6d6be72efd5aa313f15047f309d0ae4445a61ffaaae6d49fbe378f4834001ec4d7b3b4a49460c2ee0317a61f3cb4a4f31dbd7546915ba17575cf5ba652461dcc94f53cf8842db993c162ec9e07675be8bf8b0882c16d9c754555ce21132a5bae1bbd7938ce2494d7724045ed83af19640f794aaafe3370d13e0b9f3c59497baf0521727b8559e9fe3e3e55a14c28682fac7c09b673d50a7b1a44e8e54e42b3760025481e7ac28aca92e2bbcb529106061ffc2e8872f95329106e0ef5cf5fb1a85c87909c1e959361f6baed86748a838ab3f51bb2a01a34990593589b9c508cfd1fde6de9204069f7554ba8a2eceab450488abe9442370cb2a07c5a2d4f8937d710869537c82a912f45e39e1f607cb2464ec9206feea275ba4161d7cab3986763c18fb10c34d8cb34beb0c2198981555dc8d861cf03288c92e917605ef49b9e2763b08f5b6e56a36f9759951e25b7f05776f3a99b256f47f4c5e6f052377005b8021bee28c106d5b1b3d20c6fd0f544d7688df1e06e3ed917c4ac5a775b57132b78dddabfc0a6d22f539d8cefd2316f1cfacd5a2282c27d935b44880f1ef62c9ed9281387ca6c8ae2241e7d3e1ab6716832c600329608e7196641e7fe5be8daf815f39e726f785de9daa6ecb83c960daaf6a015640b68ff099a62f3c68bf5bcf80e1963febc640e8e9dd757c6ce3180d67601423d5d98734994974d5aafa996556897521802389b9a55c9712b0a3ee1ca113e2fc6d9ce2075b5c56c3f810e19b568ad3cad8dd37957d74451df728ebc81779c8390faf39b3260eca2d4c960b61352b31d4496903fae139cf5edeef846147650ced68e2442d1cb3eebed17bb650d90524b0dba3e1dab69d3a549f999f36d1e870079bd44b9ce4ec56d8ddc73de11eca94a93214f437bf0de663915ed66fbbc72a658e98e628211bbae1519d75fefec07132c16d204afbfd839a74698a335a67d6194ff178c41ab6300f18241cea1edc4ebdaef9d0c9723c81a8cf88a43195a9e3e5dedbfeb2064115062fd44e2b4107371f6904d9a2a3f5ee212af306fa1b63177442b3471127e2bca9a0e3bba95d646b456fc5044d393b0a53c89c2bdee0b5796c2b599c67e4f368195ccb48830886642f1bbfb5630e8242169ae9c79e25c9769a864e49395ef5fffd33010a8a72cc03ed0136ae4d63671ee5b582febde7e243b72235b76c9c59b263a987579f6abe969b984f1f062e5f7de9b3ccdd766555122584fa39933fb9af2ee46647ffd30018e97f08b608a8787771803ad298c7e3020bf0b37c602d2bc4b8689a732d63324600a785612fd3d6c65f8ed1c295b8e0c800c6dd2f0c355aac8f315012f31995c4b26d6265d7e11d4e67e5262a80afd5652d12eaf2c01277931a7822fe8d731dddbfba971dae973393e937a092184abcfe3de67ff57ce0a80e383d257723abfbceda80a710f87efd50753f687a331644d01b45dbbbef20d01eddc234d0f4be298b3f6ebfd71eca8efab53878fae0250d612dfb4a83a370505830cc18707afb3569fd40a682fee03970805c91c7f56d951d41c57b3025c30315369bfbf8501fcd77398da9dfd638fd9e5308b0a16be20f6768a5203027d5ef5d5aedb24f66ccb039885f04db4a7786666f574e4e3d7102473f46a17409aa89cfa56b65c80fa508ffe1922a19b3c88b8ee816a1950b97ac275723695b4cee38514053ffbbe2df1ce403a85d6e2e443e7ec93e4ff29ee896fb7d2a6df3eecee85d07488ed69bd94913bc93df04b545cbf51e6f0ce7fce61104a8b566b5255eec983284a6fbfd2455ce775dfd6ceda6e07c03c1ca7d1db9e737831777af2655de05401cb58019ccb0392efcc707e4da60b2dc150497b8886e32bd170ff196e4ba6bc0810ff3818fc59cece0297ea8eaea9cd3677c48ea135a4de783e7180f154f27e03e9a959396dd7bc81ac3a5365188745450b77546996317d1910a92a213904ee6b4a1b95a6cc9c605aa917d2a7c7ffa9206bf0b490c2fad3022b21fcca6767939f4d8da6ee3d4da0f1ccc213bf2871d4e83a931fb19ff0c9b31167379ee16e938b74e8c244786a4d60ba7e7154a78431148bd7960486c75fd5c4d272c0fad97c89fa965674ecfb4b42040b7488b530b3fb3fd19e1c86588864d52c288107445f2848d7d96e7b499a5a4fe69df1077aa8154a710fe23595bfbba59b9f87e3f639a848f310d20b9c428f923346b4919fde0b79d2f8124c07baa9c4e0b4dde986b6040f774922fb6d27730c292f2570026a04aea880bd757f6eea50940052d9900fba61220dbf24b7770940197d982d8cb51068e8fb9b2f308f4ff35745d80d281dde5903b65035d24cb315505e43e3fdc3b06baf1e49d57bc53375abd5f371e2c5dc7822b7bbc5e9f23a2ae84c298b3a42ecd73e5deaf5931cd8b01118b9daf754edfe9b89e21fcaadc70bf49b07d6dc079246590cfd7eca807e98b01fb88b58d73fc505568018a5f876fcffb2eae624efb1393dbbdbbc4cda0f8be7021a2c4ba5e0977f33579969ce5c8647c8286e590e6ae5a19033166b05a8d1a5546c06e7c4e1eef8b2f468ac83a9b9ccd2a57db33158e3b716e657dee5f6ea6915e4db451295102bb92f6d0f18d73968f79226a9261ec072fe455b217f1eea4843fd06ee80069e4be472ffdb8c548ab59e1f27960bccc1a4104d2579b19756358fff1f0f885caeafbfc9cc66135371291ffd344a80ecea1c554c2e4dc867f8a1f29f85549222c8bf2a293568d37afa25215944c7efc26b4027640fafda26f937b1e2837398413cad5bf288595d5292a8bee35d281daed68e5444e81e849cd8a2499113e1e00bec80688fcf0d98d1752a0d83fdc06aad4267d2b82f2f58c9fa81b71b18d405743f05603c58a5b66d94d236165c1dee66a69cf3f4a0efd01a48cda284403d5da3feac6e49f8ae134e9ef4f9e67f522c0b354dddabd7637472ddf8fc7ae50ce16ce23ef7e9c285c230bbca499875c807b277c448b2cb139f713ed0c8dcf73adc155cf7ed085ce7ec2af0a5922cbdd4f5e16bb17e34580dab767d39749fbdc891daebc0bc3dae0b25c3d6d43dd18cc9800ca61f49e568c421af325ef9af52a35dd5f8caee6fe5c85f5a000240093579221f3dbfc35a4f3615c2030e633c893d48f0c88ee15d2f9b364d660831d3e259a752b4f304c6ed40d2f48e4b40dfc251d93f19acd628f1bc7d9977008844c3f06f69a9e7eea072d12c1fa8148beed640a8a23fe6661826807aacadff1e74ad0a85a1a7526195e2ffd4785dbd9512fb2ef5efb4d3b973f50eeeafe00581f56f326290ca912bce28afc39da3f7bb7a68869ca454239c5b4dc594affe38042c8453c49b97b8369418e6e494542a3b37445f99e8f75acf1c3e9d85d18ed6f387726a22b90899e87d6e1e8fadcf49f47306aefbb7679da2632b0674b06350e055536432a18394983677230f1135c1476aeb2c73ca69e7b99a0be8917ad1b71618ad36412ee8133d4487feafcf7becf39908328f399f9b2e8dee5beed24ba887f09169f23cd1ee516e83504efb855efc27a2ae51e8240d9c5a6a6d05ecf8118bb722164a1a135355a16b2aeb0f2ee0e50e4cbb34fc4c345da238c2e05c4e743718f6efdcdf7421a52890d9513c9acaeecfdce988d7b1fe6c8439c8168cef28a952c4021002110b576ae00dfeb35ed60cd8f2cb1c30575a66edcda26e9f030e0109a5bc58c56a4ed4e0457f6d4406a030faac9e74ba4b3ce4b8b0d89931eac6f4b01254df1e44c927d9c107dc961503a26183f7a4d68a4a72b17a1d270c3179fb203607e124f3a8f67e7542c04b2ae3546d34011e5b710d017b2eee653c7c6f9c763453b7875cb62f41f39c1c7505c1ad3ace283643cf75aca7e67663208975951fc707effa90b90a11a838ac8fd291121a152d8bbad2a3c168df417563e557977269f65b8486fc72c631c37a728d832a28193819c5609b67fc936b37c62503d5d7a8b36f19fad9b196e24dcc6647b07710196e9c110c93d9968c4de4b6d5db5d2545ecc793677d25199fa634105d20854662dd5894553e03c30562c8f2c96bb35c506841c5a40fb4d92958b9a140867291dbadeab68aec2a5353200f84e80207b6059201a78327b3e3357e704022e0df021fb8a858d02e1e9065518691b50b6bab5f6aca490e175dfcbf2bd67c48e4af704ee5da59918fd2c746118c9b36795bce74f778ce89a84decce48aa6a887977f6ef2a8b403b260ebbc006ef5cc19d2d227225ab5f76c5a5ab6be36cf5ff0dbbf1e07126b25d32aa673f5c7c17a5a313f4a41169eb422e075103bfee6ab92a7a343252ae6af057fb216a1b7220b68b6f151a62e20347ada3dcfdd8fadcfd99940888ed34b7b947858dd577be06178a5923209281a9e68d386e5485e5d2a80067ca8324271639bb03a387af896c6e56e1c7d85df7f6c4bf2d993fdf59114808f06ba3c277a68d563787487f943e2f1c5f43d76ab8a8490707841ec988c55646a5092766f49dd8066bfc282c85e9cc2802c8d3965675ff17df45de22ba4d4a5ec56defe663cc9c9b438afadf634b7be0002ac48f5d1bfb5dd0c18dbff7dfce10b13f091f60db19fc3ed511138c58a848d673b80e37fb24ea6bd40a7b931758e2f9449e0986a70bb449cf0a63f251a2b44bceee8f28e29bbf1d5787c028e8e6fb6f72f51e870b9bfe13d35898b1123109cc3d7e4568d5298e18c5a90de8b9f5ecbb4a6615f60b406120fca9cce7fbebabdd9465ab44614b1ae356e264ddbdfc939ea929fca554766b1e2fd092e60c92086aefecee084e169ea34b351faf5cf83ff474db98b6341193bf426838bbf1fab015bebec668b9eef8b38eb19f40182ee2740dbae046b1cc0b414537b2d504f51be4ac7ed9ea1de72815d2b156215c294fd4a884068d4bf3671e90024b656dd6bc3529881a737a17108bfbbac0f44b7753f5cbabb42d8b47ce29fddca058dbe3f50a90b11872c840d9566f779c3067ec9f02d0b1e841310a7a65fdbab076effffa775c89687860543b5a09aa7b828429f3d5c591968b6774f31edbeb469b3e84a87c3e19b855eb06678f358bfd3f46992fe0df30d1064094df9871a9b7dff0d4ab5d66e1ec58bd248dff4feb37a02bdbe6c86e4711e658394b860a57997149f46eb349cd8a85a2f2edd0a614c9260e7014eb53a878fd2575823057f2f63166f47ef7db46256886b64f835c1597848354f1e52d211bf1bd569b0c371f3171dbdc30cc5454cd80ac06cf07543ea888af4ddb9221b87c15dcde6d95d7b42d8dba3dab13e7c6b7cc00b25a0db5373461be0601193c1271932b6bc0b67c970b1c1187fb8ed39fd972fb0756358d943f5253116b7c06ca60ba4d4b2ad7d9b4bb8395777bcb9374b2c3f3042a1a71f646dac5238df516537926c8113125e92f944a199ff4b483265f841090ac6d9a0e1db1137d35eb9a583bdfb1f2416dc6efc268434160d273b21e21852188552f1d6d200cc5d44f19a8babc49a53ef870ea2678d1495965b8d34b9c470698913ab66d681e28e89b8cb4c71cef6cdfc08d29cb2434a02e5ee212285966417fa2bd8d3eb1c7eed8173735e9c0d3dbaabc5823bf436cb2579ce3f006f351367b54da1ea9671b2d3491d07fc307e3316fb3c22116e5a25880493a6c8f7f750aa3013fb7d5dd303419ab18f29f905cbc8db91d3e447832edb4cc8723407e5a7bd844e1b52c609728ebba09adf952fe2712ee606028ae492ea06efaf56308c6b4a22bd2ab250721391d21d0bd6832a2451663b4927eeeb5731bb0281420f41fc56211af4788065539d093ade1a43a54fe5d4618dc468d7adf696bdb8ca4f6f0b6fe7de874decbb44dc1cc4fee461155af53db57a4fd55bec11785a70d8412fbbef042fca8feed209446b3050006258219a0f6697a0a8697c3a51940c02c4aad2fc2a0a7e415f4745af0c7e868269edff3c056cf5797df51145666b786a87bd967106cb86f3c04c532d22dcc8023f4612007e476d6ae</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    
    <category term="后端学习捏" scheme="https://aizlm.github.io/tags/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E6%8D%8F/"/>
    
  </entry>
  
  <entry>
    <title>ES使用（无原理）</title>
    <link href="https://aizlm.github.io/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    <id>https://aizlm.github.io/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</id>
    <published>2022-04-27T00:36:25.000Z</published>
    <updated>2022-04-28T07:53:47.442Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ELK"><a href="#ELK" class="headerlink" title="ELK"></a>ELK</h1><h2 id="ElasticSearch"><a href="#ElasticSearch" class="headerlink" title="ElasticSearch"></a>ElasticSearch</h2><p>文档型数据库，非关系型数据库结构：</p><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/146a779da01f53e7f7a8d53132d3c7cf.png"><p>倒序排序：</p><p>将原本通过ID查询的内容，进行分词操作，映射到相应的id中。</p><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427084342277.png"><h2 id="如何使用？"><a href="#如何使用？" class="headerlink" title="如何使用？"></a>如何使用？</h2><ul><li>访问地址见项目README；</li></ul><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427094347169.png"><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427095722738.png"><p>chain-dev-*为索引，类似于关系型数据库中为DataBase，索引名字在logstash中定义，具体可见README_ELK；<br>可用字段为收集到的日志所对应的标签值，常用搜索的标签为：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;_index&quot;</span><span class="punctuation">:</span> <span class="string">&quot;chain-dev-2022.04.27&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;_doc&quot;</span><span class="punctuation">,</span><span class="comment">// 文档，可认为是收集到的数据</span></span><br><span class="line">  <span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;q52paIABsSUfygaQAH36&quot;</span><span class="punctuation">,</span><span class="comment">// 由ES随机生成</span></span><br><span class="line">  <span class="attr">&quot;_score&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;_source&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="comment">// 收集的数据</span></span><br><span class="line">    <span class="attr">&quot;@timestamp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2022-04-27T01:35:47.849Z&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;message&quot;</span><span class="punctuation">:</span> <span class="string">&quot;231ms&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;host&quot;</span><span class="punctuation">:</span> <span class="string">&quot;localhost&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;thread_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http-nio-10000-exec-4&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;logger_name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cn.jnu.web.base.LogAspect&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;level&quot;</span><span class="punctuation">:</span> <span class="string">&quot;INFO&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;traceId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;a6a9eb6b47a98d75&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;spanId&quot;</span><span class="punctuation">:</span> <span class="string">&quot;8a68f9e630edd054&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;port&quot;</span><span class="punctuation">:</span> <span class="number">48268</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;springAppName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;service-auth&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;level_value&quot;</span><span class="punctuation">:</span> <span class="number">20000</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  ...</span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>@timestamp：时间，可通过console范围搜索</li><li>host：ip</li><li>logger_name：全类名</li><li>springAppName：微服务名称</li><li>traceId：链路追踪，全链路查询日志时使用<ul><li>通过页面响应头有个RequestId进行查询ELK中的traceId</li></ul></li></ul><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427100448369.png"><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427100615257.png"><h3 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h3><p>两种方式：</p><ul><li>第一种：直接使用Kibana查询语言KQL进行查询</li></ul><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427102012936.png"><ul><li>第二种：通过console传输json，可以进行聚类、模糊等查询</li></ul><p>console：</p><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427084444128.png"><h2 id="以表UI形式显示"><a href="#以表UI形式显示" class="headerlink" title="以表UI形式显示"></a>以表UI形式显示</h2><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/29150985243f4b28c37c7bdcfe4af95.png"><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/8f92455ef35dc64f5e89cef8af59e99.png"><h2 id="相关概念"><a href="#相关概念" class="headerlink" title="相关概念"></a>相关概念</h2><ul><li><p>集群的概念及作用：详见【2】29</p><ul><li>一个集群就是由一个或多个服务器节点组织在一起，共同持有整个的数据，并一起提供索引和搜索功能。</li><li>单台 Elasticsearch 服务器提供服务，往往都有最大的负载能力，超过这个阈值，服务器性能就会大大降低甚至不可用，所以生产环境中，一般都是运行在指定服务器集群中。</li></ul></li><li><p>数据分片及副本：详见【2】33</p><ul><li>原因：一个索引可以存储超出单个节点硬件限制的大量数据。比如，一个具有 10 亿文档数据的索引占据1TB 的磁盘空间，而任一节点都可能没有这样大的磁盘空间。 或者单个节点处理搜索请求，响应太慢。</li><li>集群有新节点加入时，ES帮助我们直接进行分片控制。</li></ul></li></ul><h2 id="查询原理"><a href="#查询原理" class="headerlink" title="查询原理"></a>查询原理</h2><img src="/2022/04/27/ES%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220427102333654.png"><ul><li>路由计算：详见【2】39</li></ul><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>【1】ELK查看DSL：<a href="https://blog.csdn.net/JSWANGCHANG/article/details/121356812">https://blog.csdn.net/JSWANGCHANG/article/details/121356812</a></p><p>【2】ES完整笔记：<a href="https://blog.csdn.net/u011863024/article/details/115721328">https://blog.csdn.net/u011863024/article/details/115721328</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   &quot;query&quot;: &#123;</span><br><span class="line">    &quot;match&quot;: &#123;</span><br><span class="line">      &quot;traceId&quot;: &quot;a6a9eb6b47a98d75&quot;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;from&quot;: 0,</span><br><span class="line">  &quot;size&quot;: 10,</span><br><span class="line">  &quot;sort&quot;:&#123;</span><br><span class="line">&quot;@timestamp&quot;:&#123;</span><br><span class="line">&quot;order&quot;:&quot;desc&quot;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ELK&quot;&gt;&lt;a href=&quot;#ELK&quot; class=&quot;headerlink&quot; title=&quot;ELK&quot;&gt;&lt;/a&gt;ELK&lt;/h1&gt;&lt;h2 id=&quot;ElasticSearch&quot;&gt;&lt;a href=&quot;#ElasticSearch&quot; class=&quot;headerlink&quot; ti</summary>
      
    
    
    
    
    <category term="后端学习捏" scheme="https://aizlm.github.io/tags/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E6%8D%8F/"/>
    
  </entry>
  
  <entry>
    <title>mybatis简单学习</title>
    <link href="https://aizlm.github.io/2022/04/19/mybatis%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/"/>
    <id>https://aizlm.github.io/2022/04/19/mybatis%E7%AE%80%E5%8D%95%E5%AD%A6%E4%B9%A0/</id>
    <published>2022-04-19T02:47:18.000Z</published>
    <updated>2022-05-19T07:27:55.241Z</updated>
    
    <content type="html"><![CDATA[<h1 id="MyBatis"><a href="#MyBatis" class="headerlink" title="MyBatis"></a>MyBatis</h1><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><ul><li><p>为啥要用工厂模式捏？：<a href="https://baijiahao.baidu.com/s?id=1705504841108391352&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1705504841108391352&amp;wfr=spider&amp;for=pc</a></p></li><li><p>尚硅谷mybatis：<a href="https://blog.csdn.net/qq_19387933/article/details/123256034">https://blog.csdn.net/qq_19387933/article/details/123256034</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;MyBatis&quot;&gt;&lt;a href=&quot;#MyBatis&quot; class=&quot;headerlink&quot; title=&quot;MyBatis&quot;&gt;&lt;/a&gt;MyBatis&lt;/h1&gt;&lt;h1 id=&quot;参考文献&quot;&gt;&lt;a href=&quot;#参考文献&quot; class=&quot;headerlink&quot; titl</summary>
      
    
    
    
    
    <category term="后端学习捏" scheme="https://aizlm.github.io/tags/%E5%90%8E%E7%AB%AF%E5%AD%A6%E4%B9%A0%E6%8D%8F/"/>
    
  </entry>
  
  <entry>
    <title>区块链认知</title>
    <link href="https://aizlm.github.io/2022/04/13/%E5%8C%BA%E5%9D%97%E9%93%BE%E8%AE%A4%E7%9F%A5/"/>
    <id>https://aizlm.github.io/2022/04/13/%E5%8C%BA%E5%9D%97%E9%93%BE%E8%AE%A4%E7%9F%A5/</id>
    <published>2022-04-13T01:50:07.000Z</published>
    <updated>2022-06-01T11:48:17.712Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="657d539d58322e56752f4db1f96da9884810dd8ed6efc428edee4617dd034662">5c75810ab82df1e4b2b28acfab07bc4ef61f8bc8dc371ccb2af4c26f3a6a1525442da7cfb2caa851b8a98dfdd81fd2727f215e7ff7480ff0ca39025e57e38aba3d23a726c7de46171b4818e6c12cfc07301bd319964265375b47956942207b34554f557b799b693e2c53ee982ca214734b099acd3fdd4611f40203dc2aefd2966d876fa2eb6bd2aec336e0156fbdf9f3b12004428a6e9b9b93b51478c7ab7ffd978f9a8983f37c7c375b634a5d9943ae1af8b49ab6371535a8f3f1279c24a8e28c10680e56f450063bbae6b8050928fa7a05a9eb35949115cd352f1418d34ba95ac739f84dfe00bf5ede2780ea6aecd13b571a6d5342dafbf916ad077da799bc4e081e98ea64091072d75242a27a26945334426dcec70b50b9dc9057c97e05c6a557a927ed968b7c5e458c60990fd19e8cd4e02b034a0c9d5ed2c224e76b909a2eb0d22cfe120e7cc599a307386d03e88be0be70dc0889b4798cf2ef72f89b33a4df7c2b75e786a0d6eb19dc38dda5c34416006977423206ca5de9027c30996a3eed844b003b7ae043033e3cdd938431b6069754b782cbe4610712df46d38bf93410a331a60d87d7b40b6a1bc7341434aa2760077f4d50f189b91c8b797d85010f53f27acb0b9a841cfbfef1fb98a084eccd0351400c0d4e85d6bc934121a7ff52e791681f6187b1ee770e4f7c75bb2e592ed236266dcf899bc82f78114fd32401fde24e6c316cec61209130d227004bf4181955dc35deb492cf521220100cc836642c6f2b44f98778b085e7fc87f1184f198d2c8315148b1ba138cabac21f506ad1bc22c65e5702637ba524d6786f7762302dc3b6d6634170203be88f794790c3c475d8926a462208e6135409889a8b53489d9fa2bca64e827ae13e9a1de3c9c9939ffd012d86b1b07fa8b24eb61899f0219f56480c0ccc1bd86b9459859fb6e7c8a0fa60171f92ba22a22f09115bef1045b64384eff7a7734606a481b0b79633707941a56d0181b2edce56cf98155c6613bad98ec08ab1abd293a4a18a558f89153982de206127ab23f95bb3e6a60e85055cd52b12fcaf80c5cfed8ffa6e12f048e2af6d581c2e2b2facb9bafcf19564ebb9247e12e8a2c9a9fa81ec1f1bda73a036786a24ce8fa496baccdf1829c918c47d34b43e966df67c18941035af78325851124b583dfd29bfda29af6d77ae5ae3d9eead96e3f3a688857443fe25dc5ea5e88f4b032ebc4b5d00b83c00a2fee8274353e20691f258d01c61bfa728e8d25fddc33333f8578de875733f549b9c25b05eaea2a3d67b72298cb0d2a7eb48778e86dd3af8924c0fc221a7227e3b23f039f992079107f37ece6c450031f62a8dd8e80b2992649d90fca563b9654578abab25350f2731bccfa7e294360bbec1b2d29e3bc40cfae8fa273469b56766bd6b12539e50466ce90e092ec8fa911c2d578831c73eee94340bc0cf4d6f811aa42119ff3691d04a1d277984fd4598c1b0bad2127496f98118cb04a58b3d1ec1d1eb98657bfddab0aaaf6e8cfd558f95bcb63aaa4dc5da44664d966f91815fa22addf0a7017aca34df9eea8de5b449814ed208d1c5e77cf7390211203a60ed0b3c147c6ee0d26ce633e6687968d300d6140930f4055051e21a2c9df9e750347ef5636058f4cef33176651b88c472b6ca88c3ee071c5676a3a884f12e057e7ce659b8c67b318fb66d1b5f953b1a27b9675e4bd0aa82a9fbb0b4a21186aa14c9d20d0b4b3ed7b4f15790461a81978729b4ede13073b92f9e1e9ca296b34cb2b40e5b8cd9d18cd75693fa4eed30ff1c65cfd7e15aaaa850b63d41fa745c9d9dd075680383a1b9831bc2de8de612bdc162ad37fab28589da3d19cc9e6465321e581fe4d88dd19134e447b3a0ece618886c932dc30c99bcfe6c9819a3b08b87c657b135609b3add960d75f783ce504413cc5f5ba9d2e93bd997214315022b3732e35f3c7aae700fdaf9b35460198a1a3dfeb00a5baa4ae869268b142372bb4598719c1d72f97bcb5d7327845ed9080e6aa47676d011beb0444288cf20ae3b1f659729de4472950bc4f6ecc7c0845a4eddda2d983b4eaf63bd7c3689db35bedca0886b3596b137b03bba8c2848cd17bdf819a4aae96af7d7e46f464de7f76025d481ffb93c67e29c37d59deea877449b67516bffc7202c03faa3f2f8c4da77d6c8839a6451cc5d5dabdabdd3acb759daf1908bcde1bc968d5ea442a83ea32c25179fb8d71cf955e19cd8abd965d1a0aab0d6dbe5aaaf29194cffddbf2f795be0cbd0dfc582f9e871fa0a632cf37f87dc14c2d9dc6e68c16091b20b7857df9d45f2676d8519fa8e66dc52a76b175184df6ba8678a2fffb56623c02458fab5a7082a8344050ec2387aa53854d1f1f984e459c39ddac29d739ec266bb4ec3d7353ec3c0d4813a0622982c911c306aaa89e1cc0cbeae191f76c2c40fa1edb6e9f1bd791ddcce7a96d0055d90aae59f275208e27b967663f16b49ee3c957270079004652ddff012cd0c80ee6d22599abcc2fd6949027b54c2062ed64119b6660480245bbbadd5ab343e5ebc7deb82dd608bf7b5b8e000299ff49277c31f8f28c1d250ac41ed0cc63ea5755478f7ed0b46977e8a0d93e24cc03ab029aab40e7d3699c00b5e0335b8db0d53f40820b64aa924c58bc77441abaad2d2e311ecde3d905532493fc77a82dd71138ffb479729e4e5c74c40502af95f95c0068e8250937e7ac60871f75227b26e0c8d37aaf41dc96109e534d186cd971160cbe0ed29096daa85623167d3e574da40dd57ed81d42bc574be4ee79825a77cf8161dfcc346e8c4cf4dc50fb2bd49a86c11bf79aa27a8684a118efa70e64d457621e98821b19d2e0dabc33d91dcad2c0321e5727426146cc2b579fb94abbe9b31474186b2f34027c8d2cfef88f4a519c6a8504b716cc1ba1477f9065a0267ebf14449e899e3f90b2765cde7639fc720b8cb3378620331149cab35587a7dbf070447f7ccbb709d83b97bf97b310887335532726e05867c14b05563c1ba7c00be5013d0ac9df9f82c84f84d131b654a5d81c85bf01d3c9458f682a7b1d69a4c61d181bebe5141da4e2c4f356c183091181215d126ed576603c4d6775c733683fd490fb5725dac79e775073fd2ec5046ffef6e26df00b49e1203952f3a28a877d6aefc0179b9542b61cae641835738f1d109c38da2ca47a892dd1cdc906c72eeb8b2e1cf10e9ccec2472819c6b0f5edd7e4841bd3c096c254b610618bca21a866734f4de2f221d34bca1f1363a5cf825f7cba695c2126158540f1f9667fa17cbceee01f63c9338c9184a02412bbbea5cc1e10df00a08fe507b0391e740664045970567732987ca75e5d09202db637a3170b667f15c31272248d9f1fdae1f273376fa858f086698f4877d3c4dbe64330f0c072edddc000b4f9ff89206bc08efa65dc2fce99fd8a8ba0a9ad3b46fe7c9dcb55dad9b2bac829b91bff311692a195f4424e98fd01a6fd4450bb50262ebf355c8067c857e5fb2e429a65544e772acaedc92bfc5bbb8064130b4ab604d3859267906d794fee8e630b7e426e2e78e73b1ab3b15cd6f96c07fe4890bb885933c48b4d1f8947375a4239f5bd9a6c2381e88b95f85e922c542784da4c14710733dd3eb1f5288f5aecdb89d21c81835dd3ee798f9231fbf4a35b0d147a6c46e7d4e55382ea0a340b409b95376680fd89b2d5bea448b43860e085c33b9f3e75f1328e71d5e673036a9fe20beb047990f33f1a5bb2c58bc8f394fd1bab648596b3dd43698df05611486be3af3adeddd7a6d39ea2a5b63d4b3d066252d0167c15d3635dfd086c17c13e8b2348619dfa3c1de43e21538de7d3d022f0212244f476b3f9d7dbf8a042d7de7e15cb61504f9f5f00d9e1ddf3a69378ef1008d306bc4291d4d5088875123e4fd01515754799213255c92f232841d03c4f5e6dcc5389f6e8a8e36f5262b47d16a67cabd8b8db842743b6772102fa9a36539717ac852b0fc464f6da3f28917ab57a0e19d5645fb29fb4c1d1b98d7be7b6514d36c2ecf09c6d0e7e0e56466570a27ad452014744fa9067e4e8c920e7ee50ef18f884f506e64191bfc9479961cdc6587e1125439178aac5f8918e209aaf1f35704c80bae6d137e68bdaaa535c125530ca99cb88090d3876d82b41a96312290b0c27484653a84470783a3f3c8998fc97b4a2524c3837e43c8dd8819b73be73a159ed488f5890c7842f225e23967d0f857b2b22d350421fcb8d65ca2360d381cbab9a37e9cc62977b54be15de4ada65273741934c628790ae0ea10a4406365c04ee4b00329f083f05ca54f0dd38d98e097ece80ea1afb3cb88b0d0cd7c0b762841dda952be6a6990b3aa78a671d42c560e8c0374dbac7802e9d32619712c3602d8ee81077c3069ccfa6a78979b0b203d66accc6f836a3e0909de4901bbcf31cb1c502776609c0dfcd7983619d1a4328cc13f8e054edcac90f85dbcf1e8cdcc063b9679d82aebc5c19aa637bec3727f3195b08d601be57bce09736642b39ae121e341731ac3671e4a243b44ffa5f908e5026af1148a35eb501ca2ed637e7f17dbd3ab0c998df69815ddd09d4d39ac26434c44c3da038addd81af71ad571cf7f88e93796d0c3a8ef42b6a52681bf79623179c33ce42cf5f34d1aff767879aa0bdf9e1848f4e505ffcfe6b786c6b77ff22ddc17a3a471c5969f7de050da445aece8331c9ac379d26f0dbfacf024a30565f5b9d43246a6787bd39c555436238708439ca876ef6bd0193da723b17cc7a57e7ea4b8ba9482a0143e7259f578020f15c6876d09f6f1bc815b0629292cb711eec9081d0a56b4c4e65aa2bbff1ca6f5e474e04c063be88d0158fdca81c43aa833bb18183f02d3c56df00d731e78ca959728c82e92c7aecbf409d6a2c289d5a6d1d72a66f9ca8d35403915906d01cd4522372d5c73c610cc2c667eabf02ff2f53303daf62b32718058031f9a723dc42641f86590d3759c3ec7a4eaf347ac9d6f69f36c4dea9835a17b4e792043de2f82387bb397c42f1d1e23a33fa9c8481e221f1975d09145aee95931cc2e732d37eb3f3b20dae7f31a74a376e919f3c7f6bbf6850086987127bf49e1532320fb02f120039dc45f41d0f3c360ac00071d3b3c02e4b984cdd10fd95eecb7e33f17060927c9582224af66c97b2f36992a73ed5862302e1d0e1c8337f6f8a0db3f2d146b3ddc01989bcf1d5fc1d6a447a7ab38f41a230cf6ace8475311576a9c7ecbbbbc576f9d8b63e1079a923dcd2971c5e7c77cafcc43152384e49812ac37f681f81c7c8cd18a012590df45d99169aa9e56655a6d2362d50bafde734f3a6acbbf178cbffa6c728d4549448a4ce58eab1871cec6bd4b5c7eeaa331dc375f156a52e577567f0646077872a22a70168859d2ff48541061a76ef73dbd6a253ef499e2bbd3ee15c448c631939824311745e9fa35f725817279e6154895daf696cdced293f7b49d5ba1f7b1f128b771e3ca19fbf28f98cb058726f2b1fdea57fdd3a1eedab76a102e483e69bd1241be2aa9cca475723b369e1fa61584bbe68e361296b6d8a93662dc93a6d058e19dc924705b35d34a772259ba968a413f16018cf60b19e8e261405011646f019f47df41e72ef4c04615e7e333562634e043ceb87cd3a049fe48c071038edc2de76b872b3b3e1c216fe09bb7e13c8be696ef3016adde7d2cacbf5a1e9c19ca79d6889c63795e9be3eabf4a8b68b41cfe132163cd49d09910a16c12507a75fa6af3fcb48a6e779ea58e5d785e0d6eb92c1ab587b4cb26006c735620b55f6ab6990b58c850d5fed90bb90752afe2e08afb65579f8bd27ccc07cb4a4d054d77971b1eed83b8ff860166015f60d6f0be852661da0a0d7f4e2357080a3d05b013fc860dd9e21712b465c0729dabb5cb8de85591a94d01f4ee61de0fc939e080e5331f2c6f98bcc4b632cc0bdd2fadc8e65a8513d5e3c393e584d09342500d98759ce95c92406ad0617a7296a93a022b29064ec27bde2c481721c82b403b6146f219e7d4075aaaec0af4538ccba8703559eccfc57e2a2114c4332786c81cb5d7dc33f21b7f79f4d94da2dbb2c67703d82ef0ae1d1b16be428cb785678e017181b0090c147de8cf69a7e13ddd8fb717051e568b4fb9f60ebf8195026def89eb5688259b400dd4b7d1a8096cdd5ea4f96a604b534ed98ae5c6b8f14a7a6bceb003558278adde43dc53fc2c7788787636ab3f60462166681b22db8d004bb900bd268eccb4b6f47109387abcff57bc5fb22c15d0ebb74cca60c32a14a5e1115367aced182eaa35122a662d2278f7bff4a035c003e0c817df4afc675b273c7e7204b4c53be28c809124916fd1d9366482504be46a25f36bd01a15d880bab4bb09c3f8f75a0ddf21ecd0ce9505cfe76f651b579b5e2052bb923a7777859e0f94ff3fc6ad7b4d0a67d739235de6c5ee220fe05aa7f0a04215a2d5f701ea8f49e89a328d7185ef7914e05956b99b353b9416a9083a4836914308d6c55dafef20429176d041b53ad3530116d7761e420f0be3c8cc75d8d5800a0b47ba8dfda283361a6ecc5299bf7616e02892c8d0977bde436fda64f620c2991f687c7dc10c13db0fdd075831412a940df90360354fd07208be543d42573760a805f8aa5e97a29ba32750d385c26493b2c657f42604e8f819cafebaedf63811a12c563b8ebf7b48c2073df74fc880db86f367c127a408c1ca8cd460c6ff4b509f35cdf1cad740b82de17c67b6b15ca43a8cc9df301c7d9476638f08dfd54a713bf1dde6bb3d3b0bb87a0ee693eed06c5c0490c5b1237fd57640692233eec547d7366a7f194b5e37a278c5f27ecb0b884428349c25f76a9678837ebd9424ea61ccc0bf87f77b4dbbf3d4f8079267da516fb522b31689ee55abd0b439cb8082ac93a0b4970d737928578e38cde1c1cc6ec76c5105f7ecc071e654dba88165aecb692a8842bd11eb98bca98313e067b7fb714b87b15cc488c20c006dc93625b221fe5244d9221884c8aec9547520776ec5410cc5c788d4dbfd6e20912d44f9ff1f27fe97a91a3e13fecd936aec512d211c17a83feae796248b7f38da9be47378476680c2af292d8dd397f98b609e0e7782390dc93e1c20e1feacd0dd5fd348017812e5adb737a2a562e780d714d93a560d9d1b7c2a637162ca4ee568b9e23c1a08bcb714922047c4140178424c229b1ba4e25b8b7adab2100fcbccafcda874dd8c0ccd06278932bc86b9479e05fe6ff45c6fa20c70d6c00261c5a900e8d57fb40a283b30af1689ef09806de96ef6b526fcaa74f58091e7311d704cdf254e256c6bf94043341b49cc4c6fccf5a56246b157e3a13e07b760a1473ee869e2c90d81bcf1e8b84bf72d2892b7285a145a5ca6661e6993da89b8dca1af77ea57ecb2a9f3613eb10f8cf648b1fe615ae5e37522d5b5879c960b0d7b273a51e6cbc38e74d915fe37edd32d615cfacaa75344ce3f5e31f37ead81e67f5f6312d868f98f09451f83de4396604b974b6c2b8b5082c627758f36ef96a09bf4a894d8c962da2f20ca0ec282119f63513c8fa0ebc1b0b2292015d4555780f1582dbc468a78c5332c38a7d238aa16cbc4ca72e94f0b01a76e6945154d61444673e2bf07253a2d9da40ba9e5db90bb147f732ab6519c468785b404c88363aca7bf098693cbee6e743b2deffada33a09575f7a08a2710d1dc6a11115db2d193b5ca0209f735006377b8684fcbe32fa7ff90a04d7827a0971cafc02c532aa96b0d28a6f5174b9b5663ae9271467eee6e5c5e92ea6f43e62ebb051a3988682348d8e3e3482ac6e653997494ff70ccc8358146160dddc9333d7b247eeacacf3dc3170f0cc3fdade7ed3019e0adaa5b5bdf2caad5bac1707cb8fa1fac5619b3d33a3a06f1c01adad0125b83f1892e407d03af6cb1e89c1309bca50d2a5dc199b684798c3461e7af792acdebe9148a0b5fc6db22b133e0fc44bc208ad710b28adc55dba72b95b3c8400b845a1baa431cb00e86e3fb8574c26a91b16e33c744d738ae19683be00fe343d96d8a88b5a3b410bcabe9eac85df54290761440c799e5b563bee40d745898a3ec716da9d5e89a01d1d639efbcc8f1aa54af5adb91ecb78363bd9c4fe668242ea13139db163656df1e1d1c57eb6a5be6088b1ea25dca63e5f1ca9ee52f04e239e32103f9a06c78b7e25b6ff2e1b8f20c4cef626265078807b533b38331ad13a9134ca8c4a7ee64d96f9f441c27836aba09652dd6ebd6c41345f28e616bddf0b5ce868523e79e5acffd48a622a1c45720ad3fc4278a577d9e4f2272cae3e2a9de62f170ed904f8417201deea49e932e31262ee27633fd96e650e936d3184a1f98feeb374f8ed83ca0833a2fc4e3a46dc6835d09e0b1c53e843144d177bb0a7552e050d6961fadf2ed7c4ec6a83f4e2a3b85f4828cd2995bdb767f9ffe3ff8b679c3f0ce96658f9c0e808c60e82c7b832c8e254c173aca5e1b126f92cfd0e8c406ca4d9dceb8cdb2b186e2d6c6e714b7be95467b3b4b85d0c31438524b47786d0cc9598934f684f6bba47749629a472c7438d088a5cd9438cbd4833900a2d5aab64bc8ea8aa9f8a454f9ec1a395f4659b6cfbcbf2ca75f382981a1975e396bd38e6df456c0884d2e7ba824da1b66f0a89baaca34099b63f02741b6bf306faf9f19c2ab87744ddeddf24d27755718c07877db719c6abcea48f828368f084ee7e2ea40fb21cfce27ba3b332fd9ed5168c90121082996fad688393607b0c83e667fc49905b0278acb7339497d1ba2a587853f24d789541853b94ef0dec34469b6ed25c4923a6c2ef5eab5c7b5d8a7502db35eaadbf98ecbac18a2794943bf1d4bfff73dd9761678214adc71636c321a9936952a4bd4e9eed9acdea108ec8407851fd6d6a7535be092c93818b73070bcaeadd6701ef4181cdd45e028425a436bafbd093e401b38f1ce4567aee9f08ed05a05bb2417a5064c53e0d1511194355fc7a8ff3a01e5cdeed9993894c8c333033cd93c9c5e579f9cbb11e19b6c84e02ecb50aebdf143192c7ff55cdc0c1cbbdac1524654adaba7001e728dfe1120f3bde7078ced05991ec4713be852e335381f8f4c92e82c7dab1fc1c66fa06d64e072910ff29ac2d962b5d05be3930e4c4699b5f291a2c0b58d7d96c94a6d45136f572ac20b481e9f3ef6b7fa2720695266ec98e531c3f7670645772e9046f68f74bb3dd91c0e8ce475353a6860733e72f30445ebc567208e95f47da624923600ba32caa1de47625edf4286ff91441a48355874202792f140dda6515311eb324c0dbac4b7ab90c6ba0af255ad78c2c2247824cde2bb7d1d9e3e84f4767214248f13c79fd2ace1fe1ff9</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Hey, password is required here.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">Here&#39;s something encrypted, password is required to continue reading.</summary>
    
    
    
    
    <category term="区块链" scheme="https://aizlm.github.io/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/"/>
    
  </entry>
  
  <entry>
    <title>Android虚拟化&amp;容器</title>
    <link href="https://aizlm.github.io/2022/04/11/Android%E8%99%9A%E6%8B%9F%E5%8C%96-%E5%AE%B9%E5%99%A8/"/>
    <id>https://aizlm.github.io/2022/04/11/Android%E8%99%9A%E6%8B%9F%E5%8C%96-%E5%AE%B9%E5%99%A8/</id>
    <published>2022-04-11T08:49:09.000Z</published>
    <updated>2022-04-12T01:54:00.521Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Android虚拟化"><a href="#Android虚拟化" class="headerlink" title="Android虚拟化"></a>Android虚拟化</h1><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Android虚拟化&quot;&gt;&lt;a href=&quot;#Android虚拟化&quot; class=&quot;headerlink&quot; title=&quot;Android虚拟化&quot;&gt;&lt;/a&gt;Android虚拟化&lt;/h1&gt;&lt;h1 id=&quot;参考文献&quot;&gt;&lt;a href=&quot;#参考文献&quot; class=&quot;head</summary>
      
    
    
    
    
    <category term="Android逆向知识" scheme="https://aizlm.github.io/tags/Android%E9%80%86%E5%90%91%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>2021KCTF4偶遇棋痴</title>
    <link href="https://aizlm.github.io/2022/04/10/2021KCTF4%E5%81%B6%E9%81%87%E6%A3%8B%E7%97%B4/"/>
    <id>https://aizlm.github.io/2022/04/10/2021KCTF4%E5%81%B6%E9%81%87%E6%A3%8B%E7%97%B4/</id>
    <published>2022-04-10T14:01:55.000Z</published>
    <updated>2022-04-11T08:19:06.683Z</updated>
    
    <content type="html"><![CDATA[<h1 id="第四题-偶遇棋痴"><a href="#第四题-偶遇棋痴" class="headerlink" title="第四题 偶遇棋痴"></a>第四题 偶遇棋痴</h1><ul><li>Java层：</li></ul><img src="/2022/04/10/2021KCTF4%E5%81%B6%E9%81%87%E6%A3%8B%E7%97%B4/image-20220410220304084.png"><ul><li>native静态分析：静态注册</li></ul><img src="/2022/04/10/2021KCTF4%E5%81%B6%E9%81%87%E6%A3%8B%E7%97%B4/image-20220410220342932.png"><p>目标是返回1，所以需要到LABEL_11得到v3&#x3D;1然后return掉。</p><img src="/2022/04/10/2021KCTF4%E5%81%B6%E9%81%87%E6%A3%8B%E7%97%B4/image-20220410220538797.png"><p>输入字符位数14，然后到第二个箭头时，v5是30，获取一下v15，再看v15经过sub_39614()变成了什么，最后到LABEL_11。</p><img src="/2022/04/10/2021KCTF4%E5%81%B6%E9%81%87%E6%A3%8B%E7%97%B4/image-20220410220838527.png"><h1 id="IDA函数映射"><a href="#IDA函数映射" class="headerlink" title="IDA函数映射"></a>IDA函数映射</h1><ul><li>_aeabi_memclr8：memset</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;第四题-偶遇棋痴&quot;&gt;&lt;a href=&quot;#第四题-偶遇棋痴&quot; class=&quot;headerlink&quot; title=&quot;第四题 偶遇棋痴&quot;&gt;&lt;/a&gt;第四题 偶遇棋痴&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;Java层：&lt;/li&gt;
&lt;/ul&gt;
&lt;img src=&quot;/2022/04/10/</summary>
      
    
    
    
    
    <category term="有空来一道" scheme="https://aizlm.github.io/tags/%E6%9C%89%E7%A9%BA%E6%9D%A5%E4%B8%80%E9%81%93/"/>
    
  </entry>
  
  <entry>
    <title>从0开始！</title>
    <link href="https://aizlm.github.io/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/"/>
    <id>https://aizlm.github.io/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/</id>
    <published>2022-04-10T06:07:00.000Z</published>
    <updated>2022-04-11T08:19:29.987Z</updated>
    
    <content type="html"><![CDATA[<h1 id="重新学习Android应用开发"><a href="#重新学习Android应用开发" class="headerlink" title="重新学习Android应用开发"></a>重新学习Android应用开发</h1><p>写着一篇主要是发现了自己虽然能理解流程，但很慢且不能看到流程马上想到如何实现，这不好，所以重新开始。主要记录开发中学习到的新的知识点，干巴爹！</p><ul><li>问题：xml布局文件的内容如何转变为View对象？</li></ul><p>aapt（Android Asset Packaging Tool）将布局文件资源编译压缩紧凑后，打包到.apk文件中。</p><p>Activity的子类的onCreate(Bundle)方法调用setContentView(…)方法时， Activity的子类使用LayoutInflater类实例化布局文件中定义的每一个View对象。</p><img src="/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/image-20220408212807086.png"><p>利用ClassLoader加载实例，ClassLoader中的双亲委派机制也很重要！</p><ul><li>Activity生命周期以及对应内存、用户可见、前台关系？</li></ul><img src="/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/image-20220409161849607.png"><img src="/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/image-20220409161928532.png"><ul><li>问题：如何在app下一次启动时，还原到上一次的状态？</li></ul><p>例如：旋转时，app会先销毁实例，走完一个Activity的生命周期，再调用Activity的onCreate、onStart、onResume方法，将app的当前Activity显示到前台中。</p><p>解决方案：重写onSaveInstanceState(Bundle outState)函数，将需要保存的状态以bundle的形式写入到outState中，在onCreate(Bundle savedInstanceState)下次调用的时候，从中取相应数据。</p><p>但需要注意的是这种方法，在完全退出时，调用的onDestory()销毁掉实例时，不会保存outState Bundle，因为Activity实例已经不存在于内存当中了。</p><img src="/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/image-20220410135836647.png"><p>实例暂存态（onStop()处理永久性数据，onSaveInstanceState处理暂存态数据）：在彻底销毁和重启系统时，暂存态数据会被清除。</p><img src="/2022/04/10/%E4%BB%8E0%E5%BC%80%E5%A7%8B%EF%BC%81/image-20220410144259030.png"><h1 id="Github上传代码"><a href="#Github上传代码" class="headerlink" title="Github上传代码"></a>Github上传代码</h1><ul><li><a href="https://www.bilibili.com/read/cv10612248/">https://www.bilibili.com/read/cv10612248/</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;重新学习Android应用开发&quot;&gt;&lt;a href=&quot;#重新学习Android应用开发&quot; class=&quot;headerlink&quot; title=&quot;重新学习Android应用开发&quot;&gt;&lt;/a&gt;重新学习Android应用开发&lt;/h1&gt;&lt;p&gt;写着一篇主要是发现了自己虽然能理解流</summary>
      
    
    
    
    
    <category term="Android应用开发" scheme="https://aizlm.github.io/tags/Android%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>看雪CM3</title>
    <link href="https://aizlm.github.io/2022/04/07/%E7%9C%8B%E9%9B%AACM3/"/>
    <id>https://aizlm.github.io/2022/04/07/%E7%9C%8B%E9%9B%AACM3/</id>
    <published>2022-04-07T12:00:19.000Z</published>
    <updated>2022-04-09T08:03:16.372Z</updated>
    
    <content type="html"><![CDATA[<h1 id="看雪CM3"><a href="#看雪CM3" class="headerlink" title="看雪CM3"></a>看雪CM3</h1><p>运行之后发现是个简单输入验证码界面。</p><ul><li>Java层静态分析：xml中application没有debuggable选项，有backup可能会诱发漏洞点。</li></ul><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328103138716.png"><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328103334441.png"><ul><li>so层静态分析：在导出函数中没有找到静态注册的函数名，进JNI_OnLoad中进行分析，一开始忽略了反调试，j_AD()为反调试函数，这里的反调试只是检测进程是否被附加调试进程。</li></ul><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328103612257.png"><p>j_AD()：</p><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328103850827.png"><ul><li>so层动态分析：需要在so加载时进行截断，绕过反调试函数。</li></ul><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328110339719.png"><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328115316040.png"><p>定位到RegisterNatives处，发现参数可以跳转到另一个地址，根据RegisterNative参数JNINativeMethod一一对应上。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">jint</span> (*RegisterNatives)(JNIEnv*, jclass, <span class="type">const</span> JNINativeMethod*, jint);</span><br></pre></td></tr></table></figure><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328122115020.png"><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328122450998.png"><p>函数名：</p><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328122640761.png"><p>签名：</p><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328122759864.png"><p>地址：</p><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220328123029740.png"><ul><li>动态分析找到对应函数，定位到bc函数：</li></ul><p>执行一下任意字符，然后发现出现 Password Error~ 字样，没有经过j_dc函数，说明是由j_wolf_de和j_st其中一个进行显示的。</p><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220407221122867.png"><p>j_dc涉及到的参数都是环境和系统上下文，没必要看。</p><p>进入j_jk看到一样的j_wolf_de与j_st，重点在j_dc里面，需要返回的result是1，进入分析发现，最终到ds函数：需要返回1，则v8&#x3D;1，这里的v3与v4通过sub_15184进行转换，v4又由j_wolf_de得到，则去hook相应的j_wolf_de方法，获取得到v4。</p><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220407223939145.png"><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220407224145304.png"><p>hook代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Script loaded successfully &quot;</span>);</span><br><span class="line"><span class="title class_">Java</span>.<span class="title function_">perform</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> wolf_de_addr = <span class="title class_">Module</span>.<span class="title function_">findExportByName</span>(<span class="string">&quot;libwolf.so&quot;</span>, <span class="string">&quot;_Z7wolf_dePKc&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;wolf_de_addr:&quot;</span>+wolf_de_addr);</span><br><span class="line"></span><br><span class="line">    <span class="title class_">Interceptor</span>.<span class="title function_">attach</span>(wolf_de_addr, &#123;</span><br><span class="line">        <span class="attr">onEnter</span>: <span class="keyword">function</span>(<span class="params">args</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> env = <span class="title class_">Java</span>.<span class="property">vm</span>.<span class="title function_">tryGetEnv</span>();</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;***orgin: &quot;</span> + args[<span class="number">0</span>].<span class="title function_">readCString</span>());</span><br><span class="line">            <span class="keyword">var</span> key = env.<span class="title function_">newStringUtf</span>(<span class="string">&quot;636D55B2AA8609CB&quot;</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;***trueKey: &quot;</span> + key);</span><br><span class="line">            <span class="keyword">var</span> truechr = env.<span class="title function_">getStringUtfChars</span>(key, <span class="number">0</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;***trueJstring: &quot;</span> + truechr.<span class="title function_">readCString</span>());</span><br><span class="line">            args[<span class="number">0</span>] = truechr;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;***changeJstring: &quot;</span> + args[<span class="number">0</span>].<span class="title function_">readCString</span>());</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">onLeave</span>: <span class="keyword">function</span>(<span class="params">retval</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;***return: &quot;</span> + retval.<span class="title function_">readCString</span>());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>结果：</p><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220407221053077.png"><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>【1】静态反调试：<a href="http://www.zhaoxiaodan.com/java/android/android-native%E5%8F%8D%E8%B0%83%E8%AF%95.html">http://www.zhaoxiaodan.com/java/android/android-native%E5%8F%8D%E8%B0%83%E8%AF%95.html</a></p><p>【2】动态注册：<a href="https://blog.csdn.net/leifengpeng/article/details/52447864">https://blog.csdn.net/leifengpeng/article/details/52447864</a></p><h1 id="hook注意事项"><a href="#hook注意事项" class="headerlink" title="hook注意事项"></a>hook注意事项</h1><ul><li>如何获取native需要hook的函数名</li></ul><p>frida：Module.enumerateExports(“libwolf.so”)</p><img src="/2022/04/07/%E7%9C%8B%E9%9B%AACM3/image-20220407225503552.png">]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;看雪CM3&quot;&gt;&lt;a href=&quot;#看雪CM3&quot; class=&quot;headerlink&quot; title=&quot;看雪CM3&quot;&gt;&lt;/a&gt;看雪CM3&lt;/h1&gt;&lt;p&gt;运行之后发现是个简单输入验证码界面。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Java层静态分析：xml中application没</summary>
      
    
    
    
    
    <category term="有空来一道" scheme="https://aizlm.github.io/tags/%E6%9C%89%E7%A9%BA%E6%9D%A5%E4%B8%80%E9%81%93/"/>
    
  </entry>
  
  <entry>
    <title>加固的了解</title>
    <link href="https://aizlm.github.io/2022/04/03/%E5%8A%A0%E5%9B%BA%E7%9A%84%E4%BA%86%E8%A7%A3/"/>
    <id>https://aizlm.github.io/2022/04/03/%E5%8A%A0%E5%9B%BA%E7%9A%84%E4%BA%86%E8%A7%A3/</id>
    <published>2022-04-03T14:17:32.000Z</published>
    <updated>2022-04-12T01:54:33.438Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Android加固认知"><a href="#Android加固认知" class="headerlink" title="Android加固认知"></a>Android加固认知</h1><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>【1】入门级加固：<a href="https://bbs.pediy.com/thread-255220.htm?source=1">https://bbs.pediy.com/thread-255220.htm?source=1</a></p><p>【2】ClassLoader：<a href="https://www.cnblogs.com/renhui/articles/14268203.html">https://www.cnblogs.com/renhui/articles/14268203.html</a></p><p>【3】（未看）ClassLoader：<a href="https://zhuanlan.zhihu.com/p/81293598">https://zhuanlan.zhihu.com/p/81293598</a></p><ul><li>【4】动态加载系列<ul><li><a href="https://www.jianshu.com/p/fb03c2b59241">https://www.jianshu.com/p/fb03c2b59241</a></li></ul></li></ul><p>【5】shuwoom大佬的加固理解与实现：<a href="https://shuwoom.com/?p=360#1014_Dex%E6%95%B4%E4%BD%93%E5%8A%A0%E5%9B%BA%E5%8E%9F%E7%90%86">https://shuwoom.com/?p=360#1014_Dex%E6%95%B4%E4%BD%93%E5%8A%A0%E5%9B%BA%E5%8E%9F%E7%90%86</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Android加固认知&quot;&gt;&lt;a href=&quot;#Android加固认知&quot; class=&quot;headerlink&quot; title=&quot;Android加固认知&quot;&gt;&lt;/a&gt;Android加固认知&lt;/h1&gt;&lt;h1 id=&quot;参考文献&quot;&gt;&lt;a href=&quot;#参考文献&quot; class=&quot;</summary>
      
    
    
    
    
    <category term="Android逆向知识" scheme="https://aizlm.github.io/tags/Android%E9%80%86%E5%90%91%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>调试配置问题汇总</title>
    <link href="https://aizlm.github.io/2022/03/28/%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/"/>
    <id>https://aizlm.github.io/2022/03/28/%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/</id>
    <published>2022-03-28T02:27:16.000Z</published>
    <updated>2022-04-09T08:02:59.305Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Android调试配置"><a href="#Android调试配置" class="headerlink" title="Android调试配置"></a>Android调试配置</h1><ul><li><p>DDMS，ro.debuggable显示进程：<a href="https://blog.csdn.net/jinmie0193/article/details/111355867">https://blog.csdn.net/jinmie0193/article/details/111355867</a></p></li><li><p>动态调试环境搭建：<a href="https://www.kanxue.com/chm.htm?id=15454&amp;pid=node1001581">https://www.kanxue.com/chm.htm?id=15454&amp;pid=node1001581</a></p></li><li><p>记录几个常用的命令</p><ul><li>jdb -connect com.sun.jdi.SocketAttach:hostname&#x3D;127.0.0.1,port&#x3D;8700</li><li>adb forward tcp:8700 jwdp:</li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Android调试配置&quot;&gt;&lt;a href=&quot;#Android调试配置&quot; class=&quot;headerlink&quot; title=&quot;Android调试配置&quot;&gt;&lt;/a&gt;Android调试配置&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;DDMS，ro.debuggable显示进程：&lt;a</summary>
      
    
    
    
    
    <category term="Android调试配置" scheme="https://aizlm.github.io/tags/Android%E8%B0%83%E8%AF%95%E9%85%8D%E7%BD%AE/"/>
    
  </entry>
  
  <entry>
    <title>frida的认知</title>
    <link href="https://aizlm.github.io/2022/03/24/frida%E7%9A%84%E8%AE%A4%E7%9F%A5/"/>
    <id>https://aizlm.github.io/2022/03/24/frida%E7%9A%84%E8%AE%A4%E7%9F%A5/</id>
    <published>2022-03-24T13:44:53.000Z</published>
    <updated>2022-04-11T08:49:39.624Z</updated>
    
    <content type="html"><![CDATA[<h1 id="frida的认知"><a href="#frida的认知" class="headerlink" title="frida的认知"></a>frida的认知</h1><p>钩子，永远的神！</p><h2 id="场景1-改TextView"><a href="#场景1-改TextView" class="headerlink" title="场景1 改TextView"></a>场景1 改TextView</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainActivity</span> <span class="keyword">extends</span> <span class="title class_">AppCompatActivity</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">onCreate</span><span class="params">(Bundle savedInstanceState)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressLint(&quot;SetTextI18n&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">changeTextViewClick</span><span class="params">(View view)</span> &#123;</span><br><span class="line">        <span class="type">TextView</span> <span class="variable">textView</span> <span class="operator">=</span> findViewById(R.id.textview);</span><br><span class="line">        textView.setText(<span class="string">&quot;aizlm&quot;</span>); <span class="comment">// hook这里</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>修改tv的话，一开始的想法是去锁定一个tv，然后在找成员方法进行修改string完成，发现好像不得行，网上看到了别人的思路，大概就是去hook TextView的setText()方法，在这个方法进行重写即可（放一次python，后面都用js了）：</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> frida, sys</span><br><span class="line"></span><br><span class="line">jscode = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">send(&quot;Script loaded successfully &quot;);</span></span><br><span class="line"><span class="string">Java.perform(function x() &#123;</span></span><br><span class="line"><span class="string">    send(&quot;Inside java perform function&quot;);</span></span><br><span class="line"><span class="string">    // Java.use 相当于 Class.forName() 拿到对应的Class而不是直接实例化一个对象，如果需要实例化需要调用$new()</span></span><br><span class="line"><span class="string">    var tv_clz = Java.use(&quot;android.widget.TextView&quot;);</span></span><br><span class="line"><span class="string">    // 当函数有多个重载方法时，用overload关键字</span></span><br><span class="line"><span class="string">    tv_clz.setText.overload(&quot;java.lang.CharSequence&quot;).implementation = function(x) &#123;</span></span><br><span class="line"><span class="string">        send(&quot;before change:&quot; + x.toString());</span></span><br><span class="line"><span class="string">        var info = Java.use(&quot;java.lang.String&quot;).$new(&quot;aizlm be changed!&quot;);</span></span><br><span class="line"><span class="string">        // this 指针指向当前的类实例tv_clz</span></span><br><span class="line"><span class="string">        this.setText(info);</span></span><br><span class="line"><span class="string">        send(&quot;after change:&quot; + info);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;);</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">on_message</span>(<span class="params">message, data</span>):</span><br><span class="line">    <span class="keyword">if</span> message[<span class="string">&#x27;type&#x27;</span>] == <span class="string">&#x27;send&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;[*] &#123;0&#125;&quot;</span>.<span class="built_in">format</span>(message[<span class="string">&#x27;payload&#x27;</span>]))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(message)</span><br><span class="line"></span><br><span class="line">process = frida.get_usb_device().attach(<span class="string">&#x27;com.example.hooktest&#x27;</span>)</span><br><span class="line">script = process.create_script(jscode)</span><br><span class="line">script.on(<span class="string">&#x27;message&#x27;</span>, on_message)</span><br><span class="line">script.load()</span><br><span class="line">sys.stdin.read()</span><br></pre></td></tr></table></figure><ul><li>但这里有个问题就是，hook底层那就不能指定对一个特定的tv进行修改了，思路就是加个id判定：</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">send</span>(<span class="string">&quot;Script loaded successfully &quot;</span>);</span><br><span class="line"><span class="title class_">Java</span>.<span class="title function_">perform</span>(<span class="keyword">function</span> <span class="title function_">x</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">send</span>(<span class="string">&quot;Inside java perform function&quot;</span>);</span><br><span class="line">    <span class="comment">// 属性值</span></span><br><span class="line">    <span class="keyword">var</span> tv_id = <span class="title class_">Java</span>.<span class="title function_">use</span>(<span class="string">&quot;com.example.hooktest.R$id&quot;</span>).<span class="property">textview</span>.<span class="property">value</span>;</span><br><span class="line">    <span class="title function_">send</span>(<span class="string">&quot;tv_id:&quot;</span> + tv_id);</span><br><span class="line">    <span class="keyword">var</span> tv_clz = <span class="title class_">Java</span>.<span class="title function_">use</span>(<span class="string">&quot;android.widget.TextView&quot;</span>);</span><br><span class="line">    tv_clz.<span class="property">setText</span>.<span class="title function_">overload</span>(<span class="string">&quot;java.lang.CharSequence&quot;</span>).<span class="property">implementation</span> = <span class="keyword">function</span>(<span class="params">x</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> info = x.<span class="title function_">toString</span>();</span><br><span class="line">        <span class="title function_">send</span>(<span class="string">&quot;before change:&quot;</span> + info);</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">getId</span>() == tv_id) &#123; <span class="comment">// tv_id 替换成0时</span></span><br><span class="line">            info = <span class="title class_">Java</span>.<span class="title function_">use</span>(<span class="string">&quot;java.lang.String&quot;</span>).$new(<span class="string">&quot;aizlm be changed!&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setText</span>(info);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">send</span>(<span class="string">&quot;after change:&quot;</span> + info);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>log：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[*] Script loaded successfully </span><br><span class="line">[*] Inside java perform function</span><br><span class="line">[*] tv_id:2131231159</span><br><span class="line">[*] before change:aizlm</span><br><span class="line">[*] after change:aizlm be changed!</span><br><span class="line">// tv_id 替换成0时</span><br><span class="line">[*] before change:aizlm</span><br><span class="line">[*] after change:aizlm</span><br></pre></td></tr></table></figure><p>…未完，hook知识深不见底，寄</p><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>【1】<a href="https://bbs.pediy.com/thread-227232.htm">https://bbs.pediy.com/thread-227232.htm</a></p><p>【2】<a href="https://github.com/r0ysue/AndroidSecurityStudy/blob/master/FRIDA/A02/README.md">https://github.com/r0ysue/AndroidSecurityStudy/blob/master/FRIDA/A02/README.md</a></p><p>【3】常见hook对象：<a href="https://blog.csdn.net/tianyi19/article/details/121771736">https://blog.csdn.net/tianyi19/article/details/121771736</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;frida的认知&quot;&gt;&lt;a href=&quot;#frida的认知&quot; class=&quot;headerlink&quot; title=&quot;frida的认知&quot;&gt;&lt;/a&gt;frida的认知&lt;/h1&gt;&lt;p&gt;钩子，永远的神！&lt;/p&gt;
&lt;h2 id=&quot;场景1-改TextView&quot;&gt;&lt;a href=&quot;#</summary>
      
    
    
    
    
    <category term="Android逆向知识" scheme="https://aizlm.github.io/tags/Android%E9%80%86%E5%90%91%E7%9F%A5%E8%AF%86/"/>
    
  </entry>
  
  <entry>
    <title>看雪CM2</title>
    <link href="https://aizlm.github.io/2022/03/24/%E7%9C%8B%E9%9B%AACM2/"/>
    <id>https://aizlm.github.io/2022/03/24/%E7%9C%8B%E9%9B%AACM2/</id>
    <published>2022-03-24T09:28:12.000Z</published>
    <updated>2022-04-09T08:03:12.455Z</updated>
    
    <content type="html"><![CDATA[<h1 id="看雪CM2"><a href="#看雪CM2" class="headerlink" title="看雪CM2"></a>看雪CM2</h1><p>so层代码出乎意料的简单，不贴payload了，这题重点在于反调试，应该是个双进程守护，手机不知道出了什么毛病，在一个师傅那可以正常显示，而我不行，应该是把所有调试手段都卸掉了，就离谱。</p><p>先码一下，后面再回来康康。</p><ul><li>logcat：</li></ul><img src="/2022/03/24/%E7%9C%8B%E9%9B%AACM2/a27ef716c12b60c1ff924cd261ed9a9.png" style="zoom:80%;"><ul><li>Java层：</li></ul><img src="/2022/03/24/%E7%9C%8B%E9%9B%AACM2/image-20220324212359483.png" style="zoom:100%;"><ul><li>so层：v3是传入对比的flag，v4是虚拟机环境参数env</li></ul><img src="/2022/03/24/%E7%9C%8B%E9%9B%AACM2/image-20220324212437133.png" style="zoom: 80%;"><img src="/2022/03/24/%E7%9C%8B%E9%9B%AACM2/image-20220324212648216.png" style="zoom: 90%;"><h1 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h1><p>【1】题目来源：<a href="https://www.kanxue.com/chm.htm?id=14147&amp;pid=node1001296">https://www.kanxue.com/chm.htm?id=14147&amp;pid=node1001296</a></p><p>【2】双进程守护：<a href="https://blog.csdn.net/huaxun66/article/details/53158162">https://blog.csdn.net/huaxun66/article/details/53158162</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;看雪CM2&quot;&gt;&lt;a href=&quot;#看雪CM2&quot; class=&quot;headerlink&quot; title=&quot;看雪CM2&quot;&gt;&lt;/a&gt;看雪CM2&lt;/h1&gt;&lt;p&gt;so层代码出乎意料的简单，不贴payload了，这题重点在于反调试，应该是个双进程守护，手机不知道出了什么毛病，在一</summary>
      
    
    
    
    
    <category term="有空来一道" scheme="https://aizlm.github.io/tags/%E6%9C%89%E7%A9%BA%E6%9D%A5%E4%B8%80%E9%81%93/"/>
    
  </entry>
  
  <entry>
    <title>默认配置漏洞分析</title>
    <link href="https://aizlm.github.io/2022/03/20/%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/"/>
    <id>https://aizlm.github.io/2022/03/20/%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/</id>
    <published>2022-03-20T06:19:08.000Z</published>
    <updated>2022-04-09T08:03:20.055Z</updated>
    
    <content type="html"><![CDATA[<h1 id="默认配置威胁"><a href="#默认配置威胁" class="headerlink" title="默认配置威胁"></a>默认配置威胁</h1><h2 id="数据备份"><a href="#数据备份" class="headerlink" title="数据备份"></a>数据备份</h2><p>简单说一下，感觉比较简单。</p><p>配置：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">application</span> </span></span><br><span class="line"><span class="tag"><span class="attr">android:allowBackup</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br></pre></td></tr></table></figure><p>1、首先将app中存储的数据给备份下来（<br>adb backup -f allowBackup.ab -noapk com.mwr.example.sieve），解压用abe<br>2、然后在其他手机（或者重新安装）把备份的数据给还原回去（<br>adb restore allowBackup.ab），这时候之前手机设置的密码就被绕过了（实际上就是把数据库扔到这边）</p><p>…待学习WebView</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;默认配置威胁&quot;&gt;&lt;a href=&quot;#默认配置威胁&quot; class=&quot;headerlink&quot; title=&quot;默认配置威胁&quot;&gt;&lt;/a&gt;默认配置威胁&lt;/h1&gt;&lt;h2 id=&quot;数据备份&quot;&gt;&lt;a href=&quot;#数据备份&quot; class=&quot;headerlink&quot; title=&quot;数</summary>
      
    
    
    
    
    <category term="android漏洞" scheme="https://aizlm.github.io/tags/android%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
</feed>
